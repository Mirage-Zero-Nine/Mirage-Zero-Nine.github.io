<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sliding Window Maximum | Algorithm</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
    <link rel="stylesheet" href="../../static/css/coding.css">
    <script src="../../static/script/coding_style.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style> @media print {
        .hljs {
            overflow: visible;
            word-wrap: break-word !important;
        }
    }</style>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>
                Sliding Window Maximum
            </h1>
        </div>

        <div class="text-right post-date">
            August 21, 2019
        </div>
        <div class="post-main">
            <p>Link: </p>
            <ul>
                <li><a href='https://leetcode.com/problems/sliding-window-maximum/'>Sliding Window Maximum</a></li>

            </ul>
            <h3>Problem description </h3>
            <p>Given an array <em>nums</em>, there is a sliding window of size <em>k</em> which is moving from the very
                left of the array to the very right. You can only see the <em>k</em> numbers in the window. Each time
                the sliding window moves right by one position. Return the max sliding window.</p>
            <p><strong>Example:</strong></p>
            <pre><code>Input: nums = [1,3,-1,-3,5,3,6,7], and k = 3
Output: [3,3,5,5,6,7]
Explanation:

Window position                Max
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
</code></pre>
            <p><strong>Note:</strong>
                You may assume <em>k</em> is always valid, 1 ≤ k ≤ input array&#39;s size for non-empty array.</p>
            <p><strong>Follow up:</strong>
                Could you solve it in linear time?</p>
            <h3>Method</h3>
            <p>Use a deque to save the index of largest value under current sliding window. Largest is saved in head of
                queue. </p>
            <p>Each time, if head of queue is out of sliding window, remove it. Remove all elements starts from end of
                deque that is smaller than current value, and add it to the end of queue.</p>
            <p>Find value based on index stores in head of queue to obtain current sliding window max.</p>
            <h3>Code</h3>
            <pre><code class='language-java' lang='java'>/**
 * Use a deque to save the index of largest value under current sliding window.
 * Largest is saved in head of queue.
 * Each time, if head of queue is out of sliding window, remove it.
 * Remove all elements starts from end of deque that is smaller than current value, and add it to the end of queue.
 * Find value based on index stores in head of queue to obtain current sliding window max.
 *
 * @param nums given nums
 * @param k    size of sliding window
 * @return all max value in each sliding window
 */
public int[] maxSlidingWindow(int[] nums, int k) {
    int n = nums.length;

    /* Corner case */
    if (n == 0) {
        return nums;
    }

    Deque&lt;Integer&gt; q = new LinkedList&lt;&gt;();
    int[] out = new int[n - k + 1];

    for (int i = 0; i &lt; n; i++) {

        while (!q.isEmpty() &amp;&amp; i - q.peek() + 1 &gt; k) {
            q.poll();
        }

        while (!q.isEmpty() &amp;&amp; nums[i] &gt;= nums[q.peekLast()]) {
            q.pollLast();
        }

        q.offer(i);
        if (!q.isEmpty() &amp;&amp; i - k + 1 &gt;= 0) {
            out[i - k + 1] = nums[q.peek()];
        }
    }

    return out;
}
</code></pre>
        </div>
    </div>
</section>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!-- Nav bar control -->
<script src="../../static/script/nav-bar.js"></script>
</body>
</html>