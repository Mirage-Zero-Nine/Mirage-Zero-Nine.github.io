<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Median of Two Sorted Arrays | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/post-content.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>Median of Two Sorted Arrays</h1>
        </div>

        <div class="text-right post-date">
            June 24, 2019
        </div>

        <div class="post-main">
            <p><span>Link: </span><a href='https://leetcode.com/problems/median-of-two-sorted-arrays'><span>Median of Two Sorted Arrays</span></a></p>
            <h2><span>Problem description </span></h2>
            <p><span>There are two sorted arrays </span><strong><span>nums1</span></strong><span> and </span><strong><span>nums2</span></strong><span> of size m and n respectively.</span></p>
            <p><span>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</span></p>
            <p><span>You may assume </span><strong><span>nums1</span></strong><span> and </span><strong><span>nums2</span></strong><span> cannot be both empty.</span></p>
            <p><strong><span>Example 1:</span></strong></p>
            <pre><code>nums1 = [1, 3]
nums2 = [2]

The median is 2.0
</code></pre>
            <p><strong><span>Example 2:</span></strong></p>
            <pre><code>nums1 = [1, 2]
nums2 = [3, 4]

The median is (2 + 3)/2 = 2.5
</code></pre>
            <h2><span>Method</span></h2>
            <p><span>Binary search. Try to partition two arrays that sum of elements in two left part is equal to sum of elements in two right part.</span></p>
            <p><span>The partition of both array should match the condition: </span><code>maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1</code></p>
            <h2><span>Code</span></h2>
            <pre><code class='language-java' lang='java'>/**
 * Binary search.
 * Try to partition two arrays that sum of elements in two left part is equal to sum of elements in two right part.
 * The partition of both array should match the condition: maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1.
 *
 * @param nums1 first sorted array with length m
 * @param nums2 second sorted array with length n
 * @return median of the two sorted arrays
 */
public double findMedianSortedArrays(int[] nums1, int[] nums2) {

    if (nums1.length &gt; nums2.length) {
        return findMedianSortedArrays(nums2, nums1);        // assure nums1 is shorter array to avoid corner case
    }

    int left = 0, right = nums1.length;

    while (left &lt;= right) {
        int middle1 = left + (right - left) / 2;       // binary search middle index
        int middle2 = (nums2.length + nums1.length + 1) / 2 - middle1;

        /*
         * maxLeft1 is the max value in left subarray of first array.
         * maxLeft2 is the max value in left subarray of second array.
         * minRight1 is the min value in right subarray of first array.
         * minRight2 is the min value in right subarray of second array.
         * Corner case: partition index reaches the end (or beginning) of array.
         * If reaches the end of array, then set to MAX_VALUE.
         * If reaches the beginning of array, set to MIN_VALUE
         * */
        int maxLeft1 = (middle1 == 0) ? Integer.MIN_VALUE : nums1[middle1 - 1];     // left of middle index
        int minRight1 = (middle1 == nums1.length) ? Integer.MAX_VALUE : nums1[middle1];     // middle index
        int maxLeft2 = (middle2 == 0) ? Integer.MIN_VALUE : nums2[middle2 - 1];     // left of middle index
        int minRight2 = (middle2 == nums2.length) ? Integer.MAX_VALUE : nums2[middle2];     // middle index

        /*
         * The condition for finding the median is that maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1.
         * If so, the partition has already divide to parts that all left values are smaller than all right values.
         * If sum of two arrays are even, then return the average of median.
         * If sum of two arrays are odd, return the median.
         * If the condition is not met, then the partition position is incorrect,
         * If max in left subarray 1 is larger than min in right subarray 2, move partition position to left.
         * Since the partition has include elements that should belong to right sub array.
         * Otherwise, move partition position to right.
         * */
        if (maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1) {
            return ((nums1.length + nums2.length) % 2 == 0) ? ((double) Math.max(maxLeft1, maxLeft2) + Math.min(minRight1, minRight2)) / 2 : Math.max(maxLeft1, maxLeft2);
        } else if (maxLeft1 &gt; minRight2) {
            right = middle1 - 1;
        } else {
            left = middle1 + 1;
        }
    }
    return -1;
}
</code></pre>
        </div>
    </div>
</section>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!--        inner script to control nav bar become purple        -->
<script>
    $(function () {
        $(document).scroll(function () {

            let $nav = $("#mainNav");
            $nav.toggleClass("scrolled", $(this).scrollTop() > $nav.height());
        })
    })
</script>
</body>
</html>