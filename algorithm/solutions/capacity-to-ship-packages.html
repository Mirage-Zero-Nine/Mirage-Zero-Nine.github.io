<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Capacity To Ship Packages | Algorithm</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
    <link rel="stylesheet" href="../../static/css/coding.css">
    <script src="../../static/script/coding_style.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style> @media print {
        .hljs {
            overflow: visible;
            word-wrap: break-word !important;
        }
    }</style>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>
                Capacity To Ship Packages
            </h1>
        </div>

        <div class="text-right post-date">
            August 12, 2019
        </div>
        <div class="post-main">
            <p>Link: <a href='https://leetcode.com/problems/capacity-to-ship-packages-within-d-days/'>Capacity To Ship
                Packages Within D Days</a></p>
            <h2>Problem description </h2>
            <p>A conveyor belt has packages that must be shipped from one port to another within <code>D</code> days.
            </p>
            <p>The <code>i</code>-th package on the conveyor belt has a weight of <code>weights[i]</code>. Each day, we
                load the ship with packages on the conveyor belt (in the order given by <code>weights</code>). We may
                not load more weight than the maximum weight capacity of the ship.</p>
            <p>Return the least weight capacity of the ship that will result in all the packages on the conveyor belt
                being shipped within <code>D</code>days.</p>
            <p><strong>Example 1:</strong></p>
            <pre><code>Input: weights = [1,2,3,4,5,6,7,8,9,10], D = 5
Output: 15
Explanation:
A ship capacity of 15 is the minimum to ship all the packages in 5 days like this:
1st day: 1, 2, 3, 4, 5
2nd day: 6, 7
3rd day: 8
4th day: 9
5th day: 10

Note that the cargo must be shipped in the order given, so using a ship of capacity 14 and splitting the packages into parts like (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) is not allowed.
</code></pre>
            <p><strong>Example 2:</strong></p>
            <pre><code>Input: weights = [3,2,2,4,1,4], D = 3
Output: 6
Explanation:
A ship capacity of 6 is the minimum to ship all the packages in 3 days like this:
1st day: 3, 2
2nd day: 2, 4
3rd day: 1, 4
</code></pre>
            <p><strong>Example 3:</strong></p>
            <pre><code>Input: weights = [1,2,3,1,1], D = 4
Output: 3
Explanation:
1st day: 1
2nd day: 2
3rd day: 3
4th day: 1, 1
</code></pre>
            <p><strong>Note:</strong></p>
            <ol>
                <li><code>1 &lt;= D &lt;= weights.length &lt;= 50000</code></li>
                <li><code>1 &lt;= weights[i] &lt;= 500</code></li>

            </ol>
            <h2>Method</h2>
            <p>Binary search on ship capacity.
                Initially state is from max value in weights to sum of total weights.
                And the average of these two value is the initially capacity of ship.
                Each time, check if work can be finished under current capacity.
                If takes more days, increase ship capacity. Otherwise, decrease ship capacity.</p>
            <h2>Code</h2>
            <pre><code class='language-java' lang='java'>/**
 * Binary search on ship capacity.
 * Initially state is from max value in weights to sum of total weights.
 * And the average of these two value is the initially capacity of ship.
 * Each time, check if work can be finished under current capacity.
 * If takes more days, increase ship capacity. Otherwise, decrease ship capacity.
 *
 * @param weights array with package weights
 * @param days    total days
 * @return least weight capacity of the ship that will result in all the packages being shipped within D days
 */
public int shipWithinDays(int[] weights, int days) {
    int sum = 0, max = 0;
    for (Integer w : weights) {
        sum += w;
        max = Math.max(w, max);
    }

    int start = max, end = sum;
    int mid;
    while (start &lt; end) {

        mid = start + (end - start) / 2;
        int count = binarySearch(weights, mid);

        if (count &lt;= days) {        // if finishing job within limit, decrease capacity to find min
            end = mid;
        }
        if (count &gt; days) {         // if finishing job longer than limit, increase capacity
            start = mid + 1;
        }
    }

    return start;
}

/**
 * Binary search.
 *
 * @param arr given array
 * @param max ship capacity
 * @return days to transport all packages under current capacity
 */
private int binarySearch(int[] arr, int max) {
    int temp = 0, count = 1;

    for (int i : arr) {
        temp += i;
        if (temp &gt; max) {       // if current sum is larger than capacity
            temp = i;           // reset ship
            count++;
        }
    }
    return count;
}
</code></pre>
        </div>
    </div>
</section>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!-- Nav bar control -->
<script src="../../static/script/nav-bar.js"></script>
</body>
</html>