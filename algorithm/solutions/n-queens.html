<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>N-Queens | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
    <link rel="stylesheet" href="../../static/css/coding.css">
    <script src="../../static/script/coding_style.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style> @media print {
        .hljs {
            overflow: visible;
            word-wrap: break-word !important;
        }
    }</style>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../../post/index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">Résumé</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>N-Queens</h1>
        </div>

        <div class="text-right post-date">
            June 17, 2019
        </div>

        <div class="post-main">
            <p>Links: </p>
            <ul>
                <li><a href='https://leetcode.com/problems/n-queens/'>N-Queens</a></li>
                <li><a href='https://leetcode.com/problems/n-queens-ii/'>N-Queens II</a></li>

            </ul>
            <h2>Problem description </h2>
            <h3>N-Queens</h3>
            <p>The <em>n</em>-queens puzzle is the problem of placing <em>n</em> queens on an <em>n</em>×<em>n</em>
                chessboard such that no two queens attack each other.</p>
            <p><img src='../../static/img/8-queens.png' alt='img' referrerPolicy='no-referrer'/></p>
            <p>Given an integer <em>n</em>, return all distinct solutions to the <em>n</em>-queens puzzle.</p>
            <p>Each solution contains a distinct board configuration of the <em>n</em>-queens&#39; placement, where
                <code>&#39;Q&#39;</code> and <code>&#39;.&#39;</code> both indicate a queen and an empty space
                respectively.</p>
            <p><strong>Example:</strong></p>
            <pre><code>Input: 4
Output: [
 [&quot;.Q..&quot;,  // Solution 1
  &quot;...Q&quot;,
  &quot;Q...&quot;,
  &quot;..Q.&quot;],

 [&quot;..Q.&quot;,  // Solution 2
  &quot;Q...&quot;,
  &quot;...Q&quot;,
  &quot;.Q..&quot;]
]
Explanation: There exist two distinct solutions to the 4-queens puzzle as shown above.
</code></pre>
            <h3>N-Queens II</h3>
            <p>The <em>n</em>-queens puzzle is the problem of placing <em>n</em> queens on an <em>n</em>×<em>n</em>
                chessboard such that no two queens attack each other.</p>
            <p><img src='../../static/img/8-queens.png' alt='img' referrerPolicy='no-referrer'/></p>
            <p>Given an integer <em>n</em>, return the number of distinct solutions to the <em>n</em>-queens puzzle.</p>
            <p><strong>Example:</strong></p>
            <pre><code>Input: 4
Output: 2
Explanation: There are two distinct solutions to the 4-queens puzzle as shown below.
[
 [&quot;.Q..&quot;,  // Solution 1
  &quot;...Q&quot;,
  &quot;Q...&quot;,
  &quot;..Q.&quot;],

 [&quot;..Q.&quot;,  // Solution 2
  &quot;Q...&quot;,
  &quot;...Q&quot;,
  &quot;.Q..&quot;]
]
</code></pre>
            <h2>Method</h2>
            <p>These are the basic backtracking problem. Simply following the backtracking rule and the exit conditions
                in problems, then the problem can be solved.</p>
            <p>Note that if a queen is placed in chessboard, then the same row, column, and the diagonal of this queen
                position is not available fore further placement. Therefore, there is no requirement to traverse all
                cells on chessboard.</p>
            <h2>Code</h2>
            <h3>N-Queens</h3>
            <pre><code class='language-java' lang='java'>/**
 * Based on special property of queen, search can be done column by column (or row by row).
 *
 * @param n placing n queens
 * @return List contains all solutions that distinct board configuration of the n-queens&#39; placement
 */
public List&lt;List&lt;String&gt;&gt; solveNQueens(int n) {
    List&lt;List&lt;String&gt;&gt; res = new ArrayList&lt;&gt;();
    char[][] chessBoard = new char[n][n];
    for (int i = 0; i &lt; n; i++) {
        for (int j = 0; j &lt; n; j++) {
            chessBoard[i][j] = &#39;.&#39;;
        }
    }

    backtracking(res, chessBoard, 0);
    return res;
}

/**
 * Use backtracking to traverse each possible place in chess board
 *
 * @param res        result List
 * @param chessBoard char array that represent chess board
 * @param c          column number of current position
 */
private void backtracking(List&lt;List&lt;String&gt;&gt; res, char[][] chessBoard, int c) {
    if (c == chessBoard.length) {
        res.add(output(chessBoard));
    }
    for (int i = 0; i &lt; chessBoard.length; i++) {
        if (isValid(chessBoard, i, c)) {
            chessBoard[i][c] = &#39;Q&#39;;
            backtracking(res, chessBoard, c + 1);
            chessBoard[i][c] = &#39;.&#39;;
        }
    }

}

/**
 * Check if current position is valid to put queen.
 * If two queen is at same diagram, then there row num and column num will:
 * 1. r1 + c2 == r2 + c1
 * 2. r1 + c1 == r2 + c2
 * And also, two position should not be in same row and column.
 *
 * @param temp chess board
 * @param r    current row
 * @param c    current column
 * @return true if valid, false otherwise
 */
private boolean isValid(char[][] temp, int r, int c) {
    for (int i = 0; i &lt; temp.length; i++) {
        for (int j = 0; j &lt; c; j++) {
            if (temp[i][j] == &#39;Q&#39; &amp;&amp; (r + j == c + i || r + c == i + j || i == r))
                return false;
        }
    }
    return true;
}

/**
 * Convert 2D char array into string list for final output.
 *
 * @param board chess board
 * @return List contains output chess board
 */
private List&lt;String&gt; output(char[][] board) {
    List&lt;String&gt; res = new LinkedList&lt;&gt;();
    for (char[] aBoard : board) {
        String s = new String(aBoard);
        res.add(s);
    }
    return res;
}
</code></pre>
            <h3>N-Queens II</h3>
            <pre><code class='language-java' lang='java'>/**
 * Based on special property of queen, search can be done column by column (or row by row).
 *
 * @param n placing n queens
 * @return List contains all solutions that distinct board configuration of the n-queens&#39; placement
 */
public int totalNQueens(int n) {

    int[] res = {0};
    char[][] chessBoard = new char[n][n];
    for (int i = 0; i &lt; n; i++) {
        for (int j = 0; j &lt; n; j++) {
            chessBoard[i][j] = &#39;.&#39;;
        }
    }

    backtracking(chessBoard, 0, res);
    return res[0];
}

/**
 * Use backtracking to traverse each possible place in chess board
 *
 * @param chessBoard char array that represent chess board
 * @param c          column number of current position
 * @param count      counter
 */
private void backtracking(char[][] chessBoard, int c, int[] count) {
    if (c == chessBoard.length) {
        count[0] += 1;
    }
    for (int i = 0; i &lt; chessBoard.length; i++) {
        if (isValid(chessBoard, i, c)) {
            chessBoard[i][c] = &#39;Q&#39;;
            backtracking(chessBoard, c + 1, count);
            chessBoard[i][c] = &#39;.&#39;;
        }
    }

}

/**
 * Check if current position is valid to put queen.
 * If two queen is at same diagram, then there row num and column num will:
 * 1. r1 + c2 == r2 + c1
 * 2. r1 + c1 == r2 + c2
 * And also, two position should not be in same row and column.
 *
 * @param temp chess board
 * @param r    current row
 * @param c    current column
 * @return true if valid, false otherwise
 */
private boolean isValid(char[][] temp, int r, int c) {
    for (int i = 0; i &lt; temp.length; i++) {
        for (int j = 0; j &lt; c; j++) {
            if (temp[i][j] == &#39;Q&#39; &amp;&amp; (r + j == c + i || r + c == i + j || i == r))
                return false;
        }
    }
    return true;
}
</code></pre>
        </div>
    </div>
</section>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!--        inner script to control nav bar background color        -->
<script>
    $(function () {
        $(document).scroll(function () {

            let $nav = $("#mainNav");
            $nav.toggleClass("scrolled", $(this).scrollTop() > $nav.height());
        })
    })
</script>
</body>
</html>