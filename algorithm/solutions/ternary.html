<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ternary Expression Parser | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
    <link rel="stylesheet" href="../../static/css/coding.css">
    <script src="../../static/script/coding_style.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style> @media print {
        .hljs {
            overflow: visible;
            word-wrap: break-word !important;
        }
    }</style>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../../post/index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">Résumé</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>Ternary Expression Parser</h1>
        </div>

        <div class="text-right post-date">
            June 26, 2019
        </div>

        <div class="post-main">
            <p><span>Link: </span><a href='https://leetcode.com/problems/ternary-expression-parser'><span>Ternary Expression Parser</span></a>
            </p>
            <h2><span>Problem description </span></h2>
            <p><span>Given a string representing arbitrarily nested ternary expressions, calculate the result of the expression. You can always assume that the given expression is valid and only consists of digits </span><code>0-9</code><span>, </span><code>?</code><span>, </span><code>:</code><span>, </span><code>T</code><span> and </span><code>F</code><span> (</span><code>T</code><span> and </span><code>F</code><span> represent True and False respectively).</span>
            </p>
            <p><strong><span>Note:</span></strong></p>
            <ol>
                <li><span>The length of the given string is ≤ 10000.</span></li>
                <li><span>Each number will contain only one digit.</span></li>
                <li><span>The conditional expressions group right-to-left (as usual in most languages).</span></li>
                <li><span>The condition will always be either </span><code>T</code><span> or </span><code>F</code><span>. That is, the condition will never be a digit.</span>
                </li>
                <li>
                    <span>The result of the expression will always evaluate to either a digit </span><code>0-9</code><span>, </span><code>T</code><span> or </span><code>F</code><span>.</span>
                </li>

            </ol>
            <p><strong><span>Example 1:</span></strong></p>
            <pre><code>Input: &quot;T?2:3&quot;

Output: &quot;2&quot;

Explanation: If true, then result is 2; otherwise result is 3.
</code></pre>
            <p><strong><span>Example 2:</span></strong></p>
            <pre><code>Input: &quot;F?1:T?4:5&quot;

Output: &quot;4&quot;

Explanation: The conditional expressions group right-to-left. Using parenthesis, it is read/evaluated as:

             &quot;(F ? 1 : (T ? 4 : 5))&quot;                   &quot;(F ? 1 : (T ? 4 : 5))&quot;
          -&gt; &quot;(F ? 1 : 4)&quot;                 or       -&gt; &quot;(T ? 4 : 5)&quot;
          -&gt; &quot;4&quot;                                    -&gt; &quot;4&quot;
</code></pre>
            <p><strong><span>Example 3:</span></strong></p>
            <pre><code>Input: &quot;T?T?F:5:3&quot;

Output: &quot;F&quot;

Explanation: The conditional expressions group right-to-left. Using parenthesis, it is read/evaluated as:

             &quot;(T ? (T ? F : 5) : 3)&quot;                   &quot;(T ? (T ? F : 5) : 3)&quot;
          -&gt; &quot;(T ? F : 3)&quot;                 or       -&gt; &quot;(T ? F : 5)&quot;
          -&gt; &quot;F&quot;                                    -&gt; &quot;F&quot;
</code></pre>
            <h2><span>Method</span></h2>
            <p><span>Use a stack to store each char in string. Note that both operator and operand has length of 1, therefore, directly push each character into stack will suffice.</span>
            </p>
            <p><span>Top of stack will always store values from closest ternary expression. Hence, pop out last four elements in stack when find a </span><code>T</code><span> or </span><code>F</code><span> result will obtain the current closest result of ternary expression. </span>
            </p>
            <p><span>If there are multiple ternary expressions combined together, stack will assure the top of it contains operands that is related to closest ternary expression. After result is pushed, next ternary expression’s operands will be pushed on the top of stack. In this way, the </span><code>?</code><span> at front of expression will obtain operands that from later ternary expressions calculation.</span>
            </p>
            <h2><span>Code</span></h2>
            <pre><code class='language-java' lang='java'>/**
 * Use a stack to store each char in string.
 * Top of stack will always store values from closest ternary expressions.
 * Hence, pop out last four elements in stack and push current ternary expression result will finally return result.
 *
 * @param expression given expression string
 * @return result of the expression
 */
public String parseTernary(String expression) {
    if (expression.length() &lt; 6) {
        return &quot;&quot;;
    }

    Stack&lt;Character&gt; temp = new Stack&lt;&gt;();

    for (int i = expression.length() - 1; i &gt; -1; i--) {
        if (!temp.isEmpty() &amp;&amp; temp.peek() == &#39;?&#39;) {

            temp.pop();     // pop out &#39;?&#39;
            char a = temp.pop();
            temp.pop();     // pop out &#39;:&#39;
            char b = temp.pop();

            /*
             * Each time, select current ternary expression&#39;s result.
             * Then push this result back to stack.
             * Top of stack will always be the closest value for current ternary expressions.
             * Therefore, if multiple ternary expressions are combined together, stack will always return the closest two. */
            if (expression.charAt(i) == &#39;T&#39;) {
                temp.push(a);
            } else if (expression.charAt(i) == &#39;F&#39;) {
                temp.push(b);
            }
        } else {
            temp.push(expression.charAt(i));
        }
    }
    return temp.pop().toString();
}
</code></pre>
        </div>
    </div>
</section>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!--        inner script to control nav bar background color        -->
<script>
    $(function () {
        $(document).scroll(function () {

            let $nav = $("#mainNav");
            $nav.toggleClass("scrolled", $(this).scrollTop() > $nav.height());
        })
    })
</script>
</body>
</html>