<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Top K Frequent Elements | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/post-content.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
</head>
<body>

<!--        nav bar     -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>Top K Frequent Elements</h1>
        </div>

        <div class="text-right post-date">
            June 25, 2019
        </div>

        <div class="post-main">
            <p><span>Link: </span><a href='https://leetcode.com/problems/top-k-frequent-elements'><span>Top K Frequent Elements</span></a>
            </p>
            <h2><span>Problem description </span></h2>
            <p><span>Given a non-empty array of integers, return the </span><strong><span>k</span></strong><span> most frequent elements.</span>
            </p>
            <p><strong><span>Example 1:</span></strong></p>
            <pre><code>Input: nums = [1,1,1,2,2,3], k = 2
Output: [1,2]
</code></pre>
            <p><strong><span>Example 2:</span></strong></p>
            <pre><code>Input: nums = [1], k = 1
Output: [1]
</code></pre>
            <p><strong><span>Note:</span></strong><span> </span></p>
            <ul>
                <li>
                    <span>You may assume </span><em><span>k</span></em><span> is always valid, 1 ≤ </span><em><span>k</span></em><span> ≤ number of unique elements.</span>
                </li>
                <li><span>Your algorithm&#39;s time complexity </span><strong><span>must be</span></strong><span> better than O(</span><em><span>n</span></em><span> log </span><em><span>n</span></em><span>), where </span><em><span>n</span></em><span> is the array&#39;s size.</span>
                </li>

            </ul>
            <h2><span>Method</span></h2>
            <p><span>Bucket sorting.</span></p>
            <p><span>The bucket is the frequency of each element. After adding all elements with their frequency into hash map, iterate the map and add all frequency to list. Iterate the bucket list, find k elements that are most frequent.</span>
            </p>
            <h2><span>Code</span></h2>
            <pre><code class='language-java' lang='java'>/**
 * Bucket sorting.
 * The bucket is the frequency of each element.
 * After adding all elements with their frequency into hash map, iterate the map and add all frequency to list.
 * Iterate the bucket list, find k elements that are most frequent.
 *
 * @param nums given array
 * @param k    k most frequent elements
 * @return k most frequent elements
 */
public List&lt;Integer&gt; topKFrequent(int[] nums, int k) {

    Map&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();
    List&lt;Integer&gt;[] bucket = new List[nums.length + 1];     // index is the frequency, value is elements with this frequency
    List&lt;Integer&gt; res = new ArrayList&lt;&gt;();

    for (int num : nums) {
        hm.put(num, hm.getOrDefault(num, 0) + 1);
    }

    for (int key : hm.keySet()) {
        int frequency = hm.get(key);
        if (bucket[frequency] == null)
            bucket[frequency] = new ArrayList&lt;&gt;();
        bucket[frequency].add(key);
    }
    for (int pos = bucket.length - 1; pos &gt;= 0; pos--) {
        if (bucket[pos] != null) {
            for (int i = 0; i &lt; bucket[pos].size() &amp;&amp; res.size() &lt; k; i++)
                res.add(bucket[pos].get(i));
        }
    }
    return res;
}

/**
 * Direct approach by two hash map. One hash map save each element in array with its frequency.
 * The other hash map store the frequency and its elements.
 *
 * @param nums given array
 * @param k    k most frequent elements
 * @return k most frequent elements
 */
public List&lt;Integer&gt; twoHashMap(int[] nums, int k) {
    List&lt;Integer&gt; out = new LinkedList&lt;&gt;();

    HashMap&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();     // save the key - frequency pair

    for (int i = 0; i &lt; nums.length; i++) {
        m.put(nums[i], m.getOrDefault(nums[i], 0) - 1);
    }

    List&lt;Map.Entry&lt;Integer, Integer&gt;&gt; list = new LinkedList&lt;&gt;(m.entrySet());
    list.sort(Comparator.comparing(Map.Entry::getValue));       // sort map based on value instead of key

    for (int i = 0; i &lt; k; i++) {
        out.add(list.get(i).getKey());
    }

    return out;
}
</code></pre>
        </div>
    </div>
</section>
<!--        inner script to control nav bar        -->

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>
</body>
</html>