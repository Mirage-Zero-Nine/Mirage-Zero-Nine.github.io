<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/post-content.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>Scramble String</h1>
        </div>

        <div class="text-right post-date">
            June 10, 2019
        </div>

        <div class="post-main">
            <p>Link: <a href='https://leetcode.com/problems/scramble-string'>Scramble String</a></p>
            <h2>Problem description </h2>
            <p>Given a string <em>s1</em>, we may represent it as a binary tree by partitioning it to two non-empty
                substrings recursively.</p>
            <p>Below is one possible representation of <em>s1</em> = <code>&quot;great&quot;</code>:</p>
            <pre><code>    great
   /    \
  gr    eat
 / \    /  \
g   r  e   at
           / \
          a   t
</code></pre>
            <p>To scramble the string, we may choose any non-leaf node and swap its two children.</p>
            <p>For example, if we choose the node <code>&quot;gr&quot;</code> and swap its two children, it produces a
                scrambled string <code>&quot;rgeat&quot;</code>.</p>
            <pre><code>    rgeat
   /    \
  rg    eat
 / \    /  \
r   g  e   at
           / \
          a   t
</code></pre>
            <p>We say that <code>&quot;rgeat&quot;</code> is a scrambled string of <code>&quot;great&quot;</code>.</p>
            <p>Similarly, if we continue to swap the children of nodes <code>&quot;eat&quot;</code> and <code>&quot;at&quot;</code>,
                it produces a scrambled string <code>&quot;rgtae&quot;</code>.</p>
            <pre><code>    rgtae
   /    \
  rg    tae
 / \    /  \
r   g  ta  e
       / \
      t   a
</code></pre>
            <p>We say that <code>&quot;rgtae&quot;</code> is a scrambled string of <code>&quot;great&quot;</code>.</p>
            <p>Given two strings <em>s1</em> and <em>s2</em> of the same length, determine if <em>s2</em> is a scrambled
                string of <em>s1</em>.</p>
            <p><strong>Example 1:</strong></p>
            <pre><code>Input: s1 = &quot;great&quot;, s2 = &quot;rgeat&quot;
Output: true
</code></pre>
            <p><strong>Example 2:</strong></p>
            <pre><code>Input: s1 = &quot;abcde&quot;, s2 = &quot;caebd&quot;
Output: false
</code></pre>
            <h2>Method</h2>
            <p>Two approaches to solve this problem. The core is to find all anagrams of given string. The first one is
                using recursion, the second one is dynamic programming.</p>
            <p><strong>Recursion</strong></p>
            <p>The idea is based on that, if two strings has different char, or has different number of char, then it is
                not scrambled. Therefore, first check two given string, and then iterate the string to split string. At
                split point <code>i</code>, two strings can be divided into 4 parts: </p>
            <pre><code>s1.substring(0, i) &amp;&amp; s2.substring(0, i)
s1.substring(i) &amp;&amp; s2.substring(i)

s1.substring(0, i) &amp;&amp; s2.substring(s2.length() - i))
s1.substring(i), s2.substring(0, s2.length() - i))
</code></pre>
            <p>As long as one situation is true, the two given string is scrambled. </p>
            <p><strong>Dynamic programming</strong></p>
            <p>The way using dynamic programming to solve this problem is use a 3D table. The state transition is shown
                as below:</p>
            <pre><code>i  i+q  i+k-1
j  j+q  j+k-1
j  j+k-q  j+k-1
</code></pre>
            <h2>Code</h2>
            <p><strong>Recursion</strong></p>
            <pre><code class='language-java' lang='java'>/**
 * Recursion.
 * Check given string has same char, split string into substring and repeat this process.
 * If two original string is not scrambled, then it will finally has a different substring.
 *
 * @param s1 first string
 * @param s2 second string
 * @return if s2 is a scrambled string of s1
 */
public boolean isScramble(String s1, String s2) {

    /* Corner case */
    if (s1.length() != s2.length()) {
        return false;
    }
    if (s1.equals(s2)) {
        return true;
    }

    int[] alphabet = new int[26];
    for (int i = 0; i &lt; s1.length(); i++) {
        alphabet[s1.charAt(i) - &#39;a&#39;]++;
        alphabet[s2.charAt(i) - &#39;a&#39;]--;
    }

    for (int value : alphabet) {
        if (value != 0) {
            return false;       // if two strings has different # of char, then it can not be scrambled
        }
    }

    for (int i = 1; i &lt; s1.length(); i++) {

        /* Spilt into two adjacent part and see if they have different chars */
        if (isScramble(s1.substring(0, i), s2.substring(0, i)) &amp;&amp; isScramble(s1.substring(i), s2.substring(i))) {
            return true;
        }
        if (isScramble(s1.substring(0, i), s2.substring(s2.length() - i)) &amp;&amp; isScramble(s1.substring(i), s2.substring(0, s2.length() - i))) {
            return true;
        }
    }
    return false;
}
</code></pre>
            <p><strong>Dynamic programming</strong></p>
            <pre><code class='language-java' lang='java'>/**
 * Dynamic programming with 3D table.
 * i  i+q  i+k-1
 * j  j+q  j+k-1
 * j  j+k-q  j+k-1
 *
 * @param s1 first string
 * @param s2 second string
 * @return if s2 is a scrambled string of s1
 */
public boolean dp(String s1, String s2) {
    /* Corner case */
    if (s1.length() != s2.length()) {
        return false;
    }
    if (s1.equals(s2)) {
        return true;
    }

    int l = s1.length();

    boolean[][][] temp = new boolean[l][l][l + 1];

    /* Check each single char in string */
    for (int i = 0; i &lt; l; i++) {
        for (int j = 0; j &lt; l; j++) {
            temp[i][j][1] = s1.charAt(i) == s2.charAt(j);
        }
    }

    /* Fixed split string position */
    for (int k = 2; k &lt;= l; k++) {

        /* Find start position in s1 */
        for (int i = 0; i &lt;= l - k; i++) {

            /* Find start position in s2 */
            for (int j = 0; j &lt;= l - k; j++) {

                for (int p = 1; p &lt; k; p++) {
                    if (((temp[i][j][p] &amp;&amp; temp[i + p][j + p][k - p])) || ((temp[i][j + k - p][p] &amp;&amp; temp[i + p][j][k - p]))) {
                        temp[i][j][k] = true;
                    }
                }
            }
        }
    }

    return temp[0][0][l];
}
</code></pre>
        </div>
    </div>
</section>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!--        inner script to control nav bar become purple        -->
<script>
    $(function () {
        $(document).scroll(function () {

            let $nav = $("#mainNav");
            $nav.toggleClass("scrolled", $(this).scrollTop() > $nav.height());
        })
    })
</script>
</body>
</html>