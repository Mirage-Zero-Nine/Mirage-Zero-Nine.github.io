<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/post-content.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
</head>
<body>

<!--        nav bar     -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>Robot Room Cleaner</h1>
        </div>

        <div class="text-right post-date">
            June 04, 2019
        </div>

        <div class="post-main">
            <p>Link: <a href='https://leetcode.com/problems/robot-room-cleaner'>Robot Room Cleaner</a></p>
            <h2>Problem description</h2>
            <p>Given a robot cleaner in a room modeled as a grid.</p>
            <p>Each cell in the grid can be empty or blocked.</p>
            <p>The robot cleaner with 4 given APIs can move forward, turn left or turn right. Each turn it made is 90
                degrees.</p>
            <p>When it tries to move into a blocked cell, its bumper sensor detects the obstacle and it stays on the
                current cell.</p>
            <p>Design an algorithm to clean the entire room using only the 4 given APIs shown below.</p>
            <pre><code class='language-java' lang='java'>interface Robot {
  // returns true if next cell is open and robot moves into the cell.
  // returns false if next cell is obstacle and robot stays on the current cell.
  boolean move();

  // Robot will stay on the same cell after calling turnLeft/turnRight.
  // Each turn will be 90 degrees.
  void turnLeft();
  void turnRight();

  // Clean the current cell.
  void clean();
}
</code></pre>
            <p><strong>Example:</strong></p>
            <pre><code>Input:
room = [
  [1,1,1,1,1,0,1,1],
  [1,1,1,1,1,0,1,1],
  [1,0,1,1,1,1,1,1],
  [0,0,0,1,0,0,0,0],
  [1,1,1,1,1,1,1,1]
],
row = 1,
col = 3

Explanation:
All grids in the room are marked by either 0 or 1.
0 means the cell is blocked, while 1 means the cell is accessible.
The robot initially starts at the position of row=1, col=3.
From the top left corner, its position is one row below and three columns right.
</code></pre>
            <p><strong>Notes:</strong></p>
            <ol start=''>
                <li>The input is only given to initialize the room and the robot&#39;s position internally. You must
                    solve this problem &quot;blindfolded&quot;. In other words, you must control the robot using only
                    the mentioned 4 APIs, without knowing the room layout and the initial robot&#39;s position.
                </li>
                <li>The robot&#39;s initial position will always be in an accessible cell.</li>
                <li>The initial direction of the robot will be facing up.</li>
                <li>All accessible cells are connected, which means the all cells marked as 1 will be accessible by the
                    robot.
                </li>
                <li>Assume all four edges of the grid are all surrounded by wall.</li>

            </ol>
            <h2>Method</h2>
            <p>This is a DFS path searching problem, although it is told that the grid is unknown. The robot gives the
                API that offer the function of moving toward current direction, turning and checking the next cell
                following current direction is accessible or not.</p>
            <p>Therefore, use a hash set to save all previous visited coordinateinates should suffice. Actually, except
                unable of using 2D array to store the visited coordinate, the path searching process is the same. </p>
            <p>The DFS process is showing above:</p>
            <ol start=''>
                <li>Keep moving toward the previous direction and check if this coordinate was visited or not.</li>
                <li>If current coordinate is visited, then move back to previous cell and set the moving direction to
                    previous direction.
                </li>
                <li>If next cell based on current direction is not accessible, then change a direction and repeat this
                    process.
                </li>

            </ol>
            <h2>Code</h2>
            <pre><code class='language-java' lang='java'>/**
 * DFS searching, move until not reachable and
 * The way this robot works is that it will move in one direction unless call the turnRight()/turnLeft() to turn.
 *
 * @param robot robot instance with API
 */
public void cleanRoom(Robot robot) {
    Set&lt;String&gt; visited = new HashSet&lt;&gt;();
    dfs(robot, visited, 0, 0, 0);
}

/**
 * DFS searching until all cells in given grid has been visited.
 * If current cell was not visited, then clean current cell and moving toward same direction.
 * If DFS is completed (i.e., cell has been visited or cell is not reachable), then robot move one step back.
 * After move back, change direction and repeat this process.
 * If next cell based on current direction is not reachable, then change direction and keep doing DFS.
 *
 * @param robot   robot instance with API
 * @param visited set store coordinates has been visited before
 * @param i       coordinate x
 * @param j       coordinate y
 * @param toward  direction towarding
 */
private void dfs(Robot robot, Set&lt;String&gt; visited, int i, int j, int toward) {

    int[][] d = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
    String coord = i + &quot;-&quot; + j;       // record current coord to see if this location has been visited before

    if (visited.contains(coord)) {
        return;
    }
    visited.add(coord);
    robot.clean();

    for (int k = 0; k &lt; 4; k++) {
        if (robot.move()) {     // robot.move() checks availability of next cell based on current direction
            int x = i + d[toward][0];
            int y = j + d[toward][1];
            dfs(robot, visited, x, y, toward);

            /* One step back after DFS is completed */
            robot.turnLeft();
            robot.turnLeft();
            robot.move();
            robot.turnLeft();
            robot.turnLeft();
        }
        robot.turnLeft();       // try a new direction if next cell is not reachable
        toward = (toward + 1) % 4;
    }
}
</code></pre>
            <p>The reason of using <code>for (int k = 0; k &lt; 4; k++)</code> is that each cell has only 4 directions,
                if all 4 directions are proven inaccessible, or cells have been visited, then the DFS process on current
                cell has ended. </p>

        </div>
    </div>
</section>
<!--        inner script to control nav bar        -->

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>
</body>
</html>