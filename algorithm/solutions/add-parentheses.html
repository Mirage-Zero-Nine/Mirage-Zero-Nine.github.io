<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Different Ways to Add Parentheses | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans:200,300,400,600,700,800,900&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/post-content.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
</head>
<body>

<!--        nav bar     -->
<nav id="mainNav" class="navbar navbar-expand-lg py-0 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://yyzhou95.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/index.html">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../algorithm/index.html">Algorithm <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/index.html">Archived <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">

        <div class="post-heading">
            <h1>Different Ways to Add Parentheses</h1>
        </div>

        <div class="text-right post-date">
            June 12, 2019
        </div>

        <div class="post-main">
            <p>Link: <a href='https://leetcode.com/problems/different-ways-to-add-parentheses'>Different Ways to Add
                Parentheses</a></p>
            <h2>Problem description</h2>
            <p>Given a string of numbers and operators, return all possible results from computing all the different
                possible ways to group numbers and operators. The valid operators are <code>+</code>, <code>-</code> and
                <code>*</code>.</p>
            <p><strong>Example 1:</strong></p>
            <pre><code>Input: &quot;2-1-1&quot;
Output: [0, 2]
Explanation:
((2-1)-1) = 0
(2-(1-1)) = 2
</code></pre>
            <p><strong>Example 2:</strong></p>
            <pre><code>Input: &quot;2*3-4*5&quot;
Output: [-34, -14, -10, -10, 10]
Explanation:
(2*(3-(4*5))) = -34
((2*3)-(4*5)) = -14
((2*(3-4))*5) = -10
(2*((3-4)*5)) = -10
(((2*3)-4)*5) = 10
</code></pre>
            <h2>Method</h2>
            <p>The problem can be solved by using recursion, or more specifically, divided and conquer. </p>
            <p>The given string can be converted into a list that each element is number or operator. This is to replace
                the substring function in recursion. </p>
            <p>Then, the list can be split into sub list recursively by each operator. This is actually the process of
                “Add Parentheses”, that by doing so the split part will have a higher priority of calculation. </p>
            <p>The calculation process is to calculate each left part and right part based on operator. Therefore, each
                left part will calculate each possible right part with operator. And with the recursion, each
                possibility will be traversed and in this way to obtain final result.</p>
            <h2>Code</h2>
            <pre><code class='language-java' lang='java'>/**
 * Convert given string to a list that contains numbers and operators in order.
 * Then recursively split list to left part and right part by each operator.
 * Calculate result by left, right, and operator.
 *
 * @param input given string
 * @return all possible results from computing all the different possible ways to group numbers and operators
 */
public List&lt;Integer&gt; diffWaysToCompute(String input) {

    List&lt;Integer&gt; out = new LinkedList&lt;&gt;();
    if (input == null || input.length() == 0) {
        return out;
    }

    List&lt;String&gt; elements = new ArrayList&lt;&gt;();

    /* Pre parse given string to string list */
    for (int i = 0; i &lt; input.length(); i++) {

        int j = i;
        while (j &lt; input.length() &amp;&amp; Character.isDigit(input.charAt(j))) {
            j++;        // avoid split numbers larger than 9 to individual number, such as split &quot;11&quot; to &quot;1&quot; &quot;1&quot;
        }

        elements.add(input.substring(i, j));        // add numbers
        if (j != input.length()) {
            elements.add(input.substring(j, j + 1));        // add operators
        }
        i = j;      // move to next int
    }

    return recursion(elements, 0, elements.size() - 1);
}

/**
 * Recursively split list by operator into left and right part.
 * Calculate the result based on left, right, and operator.
 *
 * @param elements list contains numbers and operators
 * @param start    start position
 * @param end      end position
 * @return all possible results from computing all the different possible ways to group numbers and operators
 */
private List&lt;Integer&gt; recursion(List&lt;String&gt; elements, int start, int end) {
    List&lt;Integer&gt; out = new ArrayList&lt;&gt;();

    if (start == end) {     // range narrowed into only one number without any operator
        out.add(Integer.valueOf(elements.get(start)));      // add this number to list
        return out;
    }

    for (int i = start + 1; i &lt; end; i += 2) {      // num, operator, num, operator, ..., num

        String operator = elements.get(i);      // split list by operator

        List&lt;Integer&gt; left = recursion(elements, start, i - 1), right = recursion(elements, i + 1, end);

        for (Integer l : left) {
            for (Integer r : right) {
                int temp = 0;
                switch (operator) {
                    case &quot;+&quot;:
                        temp = l + r;
                        break;
                    case &quot;-&quot;:
                        temp = l - r;
                        break;
                    case &quot;*&quot;:
                        temp = l * r;
                        break;
//                       default:
//                          throw new IllegalStateException(&quot;Unexpected value: &quot; + operator);
                }
                out.add(temp);
            }
        }
    }
    return out;
}
</code></pre>
        </div>
    </div>
</section>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>

<!--        inner script to control nav bar background color        -->
<script>
    $(function () {
        $(document).scroll(function () {

            let $nav = $("#mainNav");
            $nav.toggleClass("scrolled", $(this).scrollTop() > $nav.height());
        })
    })
</script>
</body>
</html>