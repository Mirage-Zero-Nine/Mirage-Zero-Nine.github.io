<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.64.1 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Notebook">
<meta name="keywords" content="">
<meta name="description" content="">


<meta property="og:description" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="LC 42 84 85 402 768 739 1019 - Monotone Stack">
<meta name="twitter:title" content="LC 42 84 85 402 768 739 1019 - Monotone Stack">
<meta property="og:url" content="https://yy-zhou.github.io/2020/02/lc-42-84-85-402-768-739-1019-monotone-stack/">
<meta property="twitter:url" content="https://yy-zhou.github.io/2020/02/lc-42-84-85-402-768-739-1019-monotone-stack/">
<meta property="og:site_name" content="Bingo!">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2020-02-13T00:00:00">
  
  
    <meta property="article:modified_time" content="2020-02-13T00:00:00">
  
  
  
    
      <meta property="article:section" content="Favorite">
    
      <meta property="article:section" content="Array">
    
  
  
    
      <meta property="article:tag" content="Stack">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://yy-zhou.github.io/img/avatar.jpg">
  <meta property="twitter:image" content="https://yy-zhou.github.io/img/avatar.jpg">


    <title>LC 42 84 85 402 768 739 1019 - Monotone Stack</title>

    <link rel="icon" href="https://yy-zhou.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://yy-zhou.github.io/2020/02/lc-42-84-85-402-768-739-1019-monotone-stack/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://yy-zhou.github.io/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://yy-zhou.github.io/css/about.css">
      
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://yy-zhou.github.io/">Bingo!</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://yy-zhou.github.io/about">
    
    
    
      
        <img class="header-picture" src="https://yy-zhou.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://yy-zhou.github.io/about">
          <img class="sidebar-profile-picture" src="https://yy-zhou.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Notebook</h4>
        
          <h5 class="sidebar-profile-bio">Bingo!</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yy-zhou.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yy-zhou.github.io/categories/notes/">
    
      <i class="sidebar-button-icon fa fa-lg fa-sticky-note"></i>
      
      <span class="sidebar-button-desc">Notebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yy-zhou.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yy-zhou.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yy-zhou.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/yy-zhou" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yy-zhou.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/yyzhou95/yyzhou95.github.io" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-link"></i>
      
      <span class="sidebar-button-desc">Source Code</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      LC 42 84 85 402 768 739 1019 - Monotone Stack
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2020-02-13T00:00:00Z">
        
  February 13, 2020

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://yy-zhou.github.io/categories/favorite">Favorite</a>, 
    
      <a class="category-link" href="https://yy-zhou.github.io/categories/array">Array</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
  <ul>
    <li><a href="#trapping-rain-water">Trapping Rain Water</a>
      <ul>
        <li><a href="#problem-description">Problem description</a></li>
        <li><a href="#method--code">Method & Code</a>
          <ul>
            <li><a href="#two-pointers">Two Pointers</a></li>
            <li><a href="#monotone-stack">Monotone Stack</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#largest-rectangle-in-histogram">Largest Rectangle in Histogram</a>
      <ul>
        <li><a href="#problem-description-1">Problem description</a></li>
        <li><a href="#method--code-1">Method & Code</a>
          <ul>
            <li><a href="#monotone-stack-1">Monotone Stack</a></li>
            <li><a href="#brute-force">Brute Force</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#maximal-rectangle">Maximal Rectangle</a>
      <ul>
        <li><a href="#problem-description-2">Problem description</a></li>
        <li><a href="#method--code-2">Method & Code</a></li>
      </ul>
    </li>
    <li><a href="#remove-k-digits">Remove K Digits</a>
      <ul>
        <li><a href="#problem-description-3">Problem description</a></li>
        <li><a href="#method--code-3">Method & Code</a></li>
      </ul>
    </li>
    <li><a href="#max-chunks-to-make-sorted-ii">Max Chunks To Make Sorted II</a>
      <ul>
        <li><a href="#problem-description-4">Problem description</a></li>
        <li><a href="#method--code-4">Method & Code</a>
          <ul>
            <li><a href="#monotone-stack-2">Monotone Stack</a></li>
            <li><a href="#sorting-and-compare-prefix-sum">Sorting And Compare Prefix Sum</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#daily-temperatures">Daily Temperatures</a>
      <ul>
        <li><a href="#problem-description-5">Problem description</a></li>
        <li><a href="#method--code-5">Method & Code</a></li>
      </ul>
    </li>
    <li><a href="#next-greater-node-in-linked-list">Next Greater Node In Linked List</a>
      <ul>
        <li><a href="#problem-description-6">Problem description</a></li>
        <li><a href="#method--code-6">Method & Code</a></li>
      </ul>
    </li>
  </ul>
</nav>
<h1 id="trapping-rain-water">Trapping Rain Water</h1>
<p>Link: <a href="https://leetcode.com/problems/trapping-rain-water">Trapping Rain Water</a></p>
<h2 id="problem-description">Problem description</h2>
<p>Given <em>n</em> non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.</p>
<p><img src="../../../static/img/rainwatertrap.png" alt="img">
The above elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped. <strong>Thanks Marcos</strong> for contributing this image!</p>
<p><strong>Example:</strong></p>
<pre><code>Input: [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
</code></pre><h2 id="method--code">Method &amp; Code</h2>
<p>There are two approaches to solve this problem: two pointers and stack.</p>
<h3 id="two-pointers">Two Pointers</h3>
<p>Two pointers solution. One pointer starts at left of array, call it <code>p1</code>. The other pointer starts at the end of array, call it <code>p2</code>.</p>
<ul>
<li>First, find the correct start position for two pointers: <code>p1</code> find the first decreasing element in array from left to right, and <code>p2</code> find first increasing element from right to left. From left to right, only decreasing subarray will be possible to trap water, and same as right to left (assume &ldquo;decreasing array&rdquo; is <code>array[i] &lt; array [i - 1]</code>).</li>
<li>Then, there must be some place trapping water, since for both left and right, a decreasing subarray is found based on previous moving of <code>p1</code> and <code>p2</code>. Find the amount of trapping water by calculate the difference in decreasing subarray and move the corresponding pointer.</li>
<li>If current decreasing subarray ends, keep previous steps until two pointers meet.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Two pointers solution. Starts at the beginning and the end of given array.
</span><span style="color:#75715e"> * First, find the correct start position for two pointers: find first decreasing/increasing element.
</span><span style="color:#75715e"> * From left to right, only decreasing subarray will be possible to trap water, and same as right to left.
</span><span style="color:#75715e"> * Then, there must be some place trapping water, since for both left and right, a decreasing subarray is found.
</span><span style="color:#75715e"> * Find the amount of trapping water by calculate the difference in decreasing subarray.
</span><span style="color:#75715e"> * If current decreasing subarray ends, keep previous steps until two pointers meet.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param height int array of elevation map
</span><span style="color:#75715e"> * @return trap space
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">trap</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> height<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/* Corner case */</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>height<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> 3<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">int</span> max <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> left <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> right <span style="color:#f92672">=</span> height<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> right <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> height<span style="color:#f92672">[</span>left<span style="color:#f92672">]</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> height<span style="color:#f92672">[</span>left <span style="color:#f92672">+</span> 1<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>       <span style="color:#75715e">// find first non-increasing element
</span><span style="color:#75715e"></span>        left<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> right <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> height<span style="color:#f92672">[</span>right<span style="color:#f92672">]</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> height<span style="color:#f92672">[</span>right <span style="color:#f92672">-</span> 1<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>    <span style="color:#75715e">// find first non-decreasing element
</span><span style="color:#75715e"></span>        right<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> right<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>        <span style="color:#75715e">// if no valid &#34;pit&#34; can be found
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> right<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        <span style="color:#66d9ef">int</span> leftHeight <span style="color:#f92672">=</span> height<span style="color:#f92672">[</span>left<span style="color:#f92672">]</span><span style="color:#f92672">,</span> rightHeight <span style="color:#f92672">=</span> height<span style="color:#f92672">[</span>right<span style="color:#f92672">]</span><span style="color:#f92672">;</span>

        <span style="color:#75715e">/*
</span><span style="color:#75715e">         * The previous stop condition assure that there must be water within left and right.
</span><span style="color:#75715e">         * And also, height[left + 1] will surely be smaller than height[left], and so to right.
</span><span style="color:#75715e">         * Therefore, the decreasing subarray next to left can trap water, and so to right.
</span><span style="color:#75715e">         * Once the end of decreasing subarray is found, restart to find decreasing subarray. */</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>leftHeight <span style="color:#f92672">&lt;</span> rightHeight<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

            <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> right <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> leftHeight <span style="color:#f92672">&gt;</span> height<span style="color:#f92672">[</span>left <span style="color:#f92672">+</span> 1<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                max <span style="color:#f92672">+</span><span style="color:#f92672">=</span> leftHeight <span style="color:#f92672">-</span> height<span style="color:#f92672">[</span>left<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            left<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>

            <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> right <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> rightHeight <span style="color:#f92672">&gt;</span> height<span style="color:#f92672">[</span>right <span style="color:#f92672">-</span> 1<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                max <span style="color:#f92672">+</span><span style="color:#f92672">=</span> rightHeight <span style="color:#f92672">-</span> height<span style="color:#f92672">[</span>right<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            right<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> max<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="monotone-stack">Monotone Stack</h3>
<p>Use a stack to store the decreasing subarray index. The idea of this solution is to calculate area level by level vertically.</p>
<p>The width of water trapped depends on distance from left to right, so stack save index rather than height. If the decreasing subarray ends, find each area based on end of decreasing array.</p>
<p>Each decreasing element can trap <code>width * height</code> amount of water. Width is the distance from bottom to stack pop out element (and that&rsquo;s the reason stack stores index). Height is the difference from left bound to bottom.</p>
<p>Bottom will update at each level, to avoid duplicated calculation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Use a stack to store the decreasing subarray index.
</span><span style="color:#75715e"> * The idea of this solution is to calculate area level by level vertically.
</span><span style="color:#75715e"> * The width of water trapped depends on distance from left to right, so stack save index rather than height.
</span><span style="color:#75715e"> * If the decreasing subarray ends, find each area based on end of decreasing array.
</span><span style="color:#75715e"> * Each decreasing element can trap width * height amount of water.
</span><span style="color:#75715e"> * Width is the distance from bottom to stack pop out element (and that&#39;s the reason stack stores index).
</span><span style="color:#75715e"> * Height is the difference from left bound to bottom.
</span><span style="color:#75715e"> * Bottom will update at each level, to avoid duplicated calculation.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param height int array of elevation map
</span><span style="color:#75715e"> * @return max trap space
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">stack</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> height<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/* Corner case */</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>height <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">|</span><span style="color:#f92672">|</span> height<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&lt;</span> 2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    Stack<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> stack <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stack<span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> max <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> left<span style="color:#f92672">,</span> bottom<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> height<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> height<span style="color:#f92672">[</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">]</span> <span style="color:#f92672">&lt;</span> height<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>      <span style="color:#75715e">// find each &#34;level&#34; trapped water
</span><span style="color:#75715e"></span>            bottom <span style="color:#f92672">=</span> stack<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>       <span style="color:#75715e">// update bottom to calculate new &#34;level&#34;
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            left <span style="color:#f92672">=</span> stack<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            max <span style="color:#f92672">+</span><span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Math<span style="color:#f92672">.</span><span style="color:#a6e22e">min</span><span style="color:#f92672">(</span>height<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">,</span> height<span style="color:#f92672">[</span>left<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">-</span> height<span style="color:#f92672">[</span>bottom<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">*</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">-</span> left <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        stack<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>      <span style="color:#75715e">// push non-increasing or first element index (next height is unknown) into stack
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> max<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h1 id="largest-rectangle-in-histogram">Largest Rectangle in Histogram</h1>
<p>Link: <a href="https://leetcode.com/problems/largest-rectangle-in-histogram">Largest Rectangle in Histogram</a></p>
<h2 id="problem-description-1">Problem description</h2>
<p>Given <em>n</em> non-negative integers representing the histogram&rsquo;s bar height where the width of each bar is 1, find the area of largest rectangle in the histogram.</p>
<p><img src="../../../static/img/histogram.png" alt="img">
Above is a histogram where width of each bar is 1, given height = <code>[2,1,5,6,2,3]</code>.</p>
<p><img src="../../../static/img/histogram_area.png" alt="img">
The largest rectangle is shown in the shaded area, which has area = <code>10</code> unit.</p>
<p><strong>Example:</strong></p>
<pre><code>Input: [2,1,5,6,2,3]
Output: 10
</code></pre><h2 id="method--code-1">Method &amp; Code</h2>
<p>Two solutions. First solution is using stack, this is a faster solution. Second solution is the brute force solution. It is AC on LeetCode, but may not be enough in interview.</p>
<h3 id="monotone-stack-1">Monotone Stack</h3>
<p>Use monotone stack to store all increasing subarray element index. The key of monotone stack is to keep the monotonicity in stack. In this case, max area is depended by the shortest height. Hence, store index in stack, and keep increasing order in stack (top of stack is the current largest element&rsquo;s index).</p>
<p>If increasing subarray is ended, then calculate rectangle size starts from largest element in subarray. The initially length of rectangle is 1 (itself). With the pop of stack, length increased by 1 each time until value at top of stack is smaller than current element. For each deceasing area, simply count the area with itself and compared with max.</p>
<p>Note that if stack is empty, current element is the smallest element in current subarray. The area length of this rectangle is <code>[0, i]</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Traverse all elements in array and find each increasing subarray.
</span><span style="color:#75715e"> * If increasing subarray is ended, then calculate rectangle size starts from largest element in subarray.
</span><span style="color:#75715e"> * The initially length of rectangle is 1 (itself).
</span><span style="color:#75715e"> * With the pop of stack, length increased by 1 each time until value at top of stack is smaller than current element.
</span><span style="color:#75715e"> * For each deceasing area, simply count the area with itself and compared with max.
</span><span style="color:#75715e"> * Note that if stack is empty, current element is the smallest element in current subarray.
</span><span style="color:#75715e"> * The area length of this rectangle is [0,i].
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param heights input histogram&#39;s bar height array
</span><span style="color:#75715e"> * @return area of largest rectangle
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">largestRectangleArea</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> heights<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    Stack<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> stack <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stack<span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>       <span style="color:#75715e">// store index of array
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> max <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        <span style="color:#66d9ef">int</span> h <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">=</span><span style="color:#f92672">=</span> heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span> <span style="color:#f92672">?</span> 0 <span style="color:#f92672">:</span> heights<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">;</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> h <span style="color:#f92672">&lt;</span> heights<span style="color:#f92672">[</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>      <span style="color:#75715e">// increasing subarray stopped
</span><span style="color:#75715e"></span>
            <span style="color:#75715e">/*
</span><span style="color:#75715e">             * Stack only store index, therefore, heights[s.pop()] stands for the length of current height.
</span><span style="color:#75715e">             * The other part of area calculation is the length of rectangle.
</span><span style="color:#75715e">             * The length is between current bar and the max bar in increasing subarray.
</span><span style="color:#75715e">             * If stack is empty, then current element is the smallest element in [0,i], and length will be i.
</span><span style="color:#75715e">             * i - 1 is to move i to previous max value in previous increasing subarray.
</span><span style="color:#75715e">             * If stack is empty, current element is the smallest element in current subarray.
</span><span style="color:#75715e">             * The area length of this rectangle is [0,i]. */</span>
            <span style="color:#66d9ef">int</span> area <span style="color:#f92672">=</span> heights<span style="color:#f92672">[</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">]</span> <span style="color:#f92672">*</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">-</span> 1 <span style="color:#f92672">-</span> <span style="color:#f92672">(</span>stack<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">?</span> <span style="color:#f92672">-</span>1 <span style="color:#f92672">:</span> stack<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            max <span style="color:#f92672">=</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>max<span style="color:#f92672">,</span> area<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        stack<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">return</span> max<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="brute-force">Brute Force</h3>
<p>Direct check each cell, in each cell, find all elements that is larger than current bar. Calculate max area based on current bar.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Slow yet plain brute force solution.
</span><span style="color:#75715e"> * Traverse all elements in array.
</span><span style="color:#75715e"> * In each round, find all elements that is larger than current bar. Calculate max area based on current bar.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param heights input histogram&#39;s bar height array
</span><span style="color:#75715e"> * @return area of largest rectangle
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">largestRectangleAreaSlow</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> heights<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">int</span> maxArea <span style="color:#f92672">=</span> heights<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> l <span style="color:#f92672">=</span> i <span style="color:#f92672">-</span> 1<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">int</span> r <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> 1<span style="color:#f92672">;</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>l <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> 0 <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> heights<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> heights<span style="color:#f92672">[</span>l<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            l<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>r <span style="color:#f92672">&lt;</span> heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> heights<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> heights<span style="color:#f92672">[</span>r<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            r<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> heights<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">*</span> <span style="color:#f92672">(</span>r <span style="color:#f92672">-</span> l <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        maxArea <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>maxArea<span style="color:#f92672">,</span> temp<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> maxArea<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h1 id="maximal-rectangle">Maximal Rectangle</h1>
<p>Link: <a href="https://leetcode.com/problems/maximal-rectangle/">Maximal Rectangle</a></p>
<h2 id="problem-description-2">Problem description</h2>
<p>Given a 2D binary matrix filled with 0&rsquo;s and 1&rsquo;s, find the largest rectangle containing only 1&rsquo;s and return its area.</p>
<p><strong>Example:</strong></p>
<pre><code>Input:
[
  [&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],
  [&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],
  [&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],
  [&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]
]
Output: 6
</code></pre><h2 id="method--code-2">Method &amp; Code</h2>
<p>Regarded it as a similar problem of max histogram problem. The rectangular requires consecutive of 1s. Therefore, starts at first row, and the move downward to each row. In each row, if current cell is 1, then add 1 to previous row&rsquo;s consecutive 1&rsquo;s count. If current cell is 0, then directly set the count to 0. It interrupted the consecutive 1s. The row of counting of consecutive 1s can be regraded as finding max area in histogram.</p>
<p>Analysis: <code>O(n^2)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Regarded it as a similar problem of max histogram problem.
</span><span style="color:#75715e"> * In each line update the current &#34;histogram&#34; in a int array, when meet &#39;0&#39; simply reset current column to 0.
</span><span style="color:#75715e"> * Find max &#34;histogram&#34; of each line and finally find max rectangle.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param matrix input int matrix
</span><span style="color:#75715e"> * @return max area
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maximalRectangle</span><span style="color:#f92672">(</span><span style="color:#66d9ef">char</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> matrix<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/* Corner case */</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>matrix<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> 0 <span style="color:#f92672">|</span><span style="color:#f92672">|</span> matrix<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> row <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>matrix<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> row<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>      <span style="color:#75715e">// search in first line
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>matrix<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            row<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">+</span><span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">int</span> max <span style="color:#f92672">=</span> largestRectangleArea<span style="color:#f92672">(</span>row<span style="color:#f92672">)</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> matrix<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> j <span style="color:#f92672">&lt;</span> matrix<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> j<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>matrix<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">[</span>j<span style="color:#f92672">]</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                row<span style="color:#f92672">[</span>j<span style="color:#f92672">]</span> <span style="color:#f92672">+</span><span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                row<span style="color:#f92672">[</span>j<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
        max <span style="color:#f92672">=</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>max<span style="color:#f92672">,</span> largestRectangleArea<span style="color:#f92672">(</span>row<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>     <span style="color:#75715e">// find max in other rows
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> max<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Traverse all elements in array.
</span><span style="color:#75715e"> * Push elements in stack if it is increasing order.
</span><span style="color:#75715e"> * If not, pop top of stack and regard current index position as smallest bar. Calculate area.
</span><span style="color:#75715e"> * After each calculation, move index -1, since there is a possibility that current top is larger than smallest.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param heights input histogram&#39;s bar height array
</span><span style="color:#75715e"> * @return area of largest rectangle
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">largestRectangleArea</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> heights<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    Stack<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> temp <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stack<span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> maxArea <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> h<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        h <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">=</span><span style="color:#f92672">=</span> heights<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">?</span> 0 <span style="color:#f92672">:</span> heights<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>     <span style="color:#75715e">// set each calculation&#39;s bar height. If out of bound, set 0 to pop all elements in stack.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>temp<span style="color:#f92672">.</span><span style="color:#a6e22e">empty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">|</span><span style="color:#f92672">|</span> h <span style="color:#f92672">&gt;</span> heights<span style="color:#f92672">[</span>temp<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

            temp<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>       <span style="color:#75715e">// push index into stack to record position
</span><span style="color:#75715e"></span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">int</span> top <span style="color:#f92672">=</span> temp<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            maxArea <span style="color:#f92672">=</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>maxArea<span style="color:#f92672">,</span> heights<span style="color:#f92672">[</span>top<span style="color:#f92672">]</span> <span style="color:#f92672">*</span> <span style="color:#f92672">(</span>temp<span style="color:#f92672">.</span><span style="color:#a6e22e">empty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">?</span> i <span style="color:#f92672">:</span> i <span style="color:#f92672">-</span> 1 <span style="color:#f92672">-</span> temp<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>

            i<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">;</span>        <span style="color:#75715e">// i - 1 so that the highest bar can be pushed to the end of stack
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> maxArea<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h1 id="remove-k-digits">Remove K Digits</h1>
<p>Link: <a href="https://leetcode.com/problems/remove-k-digits/">Remove K Digits</a></p>
<h2 id="problem-description-3">Problem description</h2>
<p>Given a non-negative integer <em>num</em> represented as a string, remove <em>k</em> digits from the number so that the new number is the smallest possible.</p>
<p><strong>Note:</strong></p>
<ul>
<li>The length of <em>num</em> is less than 10002 and will be  <em>k</em>.</li>
<li>The given <em>num</em> does not contain any leading zero.</li>
</ul>
<p><strong>Example 1:</strong></p>
<pre><code>Input: num = &quot;1432219&quot;, k = 3
Output: &quot;1219&quot;
Explanation: Remove the three digits 4, 3, and 2 to form the new number 1219 which is the smallest.
</code></pre><p><strong>Example 2:</strong></p>
<pre><code>Input: num = &quot;10200&quot;, k = 1
Output: &quot;200&quot;
Explanation: Remove the leading 1 and the number is 200. Note that the output must not contain leading zeroes.
</code></pre><p><strong>Example 3:</strong></p>
<pre><code>Input: num = &quot;10&quot;, k = 2
Output: &quot;0&quot;
Explanation: Remove all the digits from the number and it is left with nothing which is 0.
</code></pre><h2 id="method--code-3">Method &amp; Code</h2>
<p>Monotone stack problem, but use a dequeue to store the numbers in given string instead of stack. Use deque will reduce time of converting elements in stack to final output string.</p>
<p>When found a new number that is smaller than last element in dequeue, remove element in dequeue until meets larger.</p>
<p>Given a sequence of digits <code>[D1, D2, D3, ..., Dn]</code>, if the digit <code>D2</code> is less than its left neighbor <code>D1</code>, then we should remove the left neighbor <code>D1</code> in order to obtain the minimum result.</p>
<p><img src="../../../static/img/402_example.png" alt="402_example"></p>
<p>Note that this remove operation can be done at most k.</p>
<p>Time &amp; space complexity: <code>O(n)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Use a dequeue to store the numbers in given string.
</span><span style="color:#75715e"> * When found a new number that is smaller than last element in dequeue, remove element in dequeue until meets larger.
</span><span style="color:#75715e"> * Note that this remove operation can be done at most k.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param num given string represent numbers
</span><span style="color:#75715e"> * @param k   k digits to be removed
</span><span style="color:#75715e"> * @return new number is the smallest possible
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">removeKdigits</span><span style="color:#f92672">(</span>String num<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> k<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/* Corner case */</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>num<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> k<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;0&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    Deque<span style="color:#f92672">&lt;</span>Character<span style="color:#f92672">&gt;</span> q <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> LinkedList<span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>        <span style="color:#75715e">// use deque to replace stack to avoid reverse operation
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> num<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>q<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> q<span style="color:#f92672">.</span><span style="color:#a6e22e">peekLast</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&gt;</span> num<span style="color:#f92672">.</span><span style="color:#a6e22e">charAt</span><span style="color:#f92672">(</span>i<span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> k <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            q<span style="color:#f92672">.</span><span style="color:#a6e22e">removeLast</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            k<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        q<span style="color:#f92672">.</span><span style="color:#a6e22e">addLast</span><span style="color:#f92672">(</span>num<span style="color:#f92672">.</span><span style="color:#a6e22e">charAt</span><span style="color:#f92672">(</span>i<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>k <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>     <span style="color:#75715e">// handle corner case such as &#34;1111111&#34; that will not be removed in q.peekLast() &gt; num.charAt(i)
</span><span style="color:#75715e"></span>        q<span style="color:#f92672">.</span><span style="color:#a6e22e">removeLast</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        k<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    StringBuilder out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>q<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&gt;</span> 1 <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> q<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        q<span style="color:#f92672">.</span><span style="color:#a6e22e">poll</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>       <span style="color:#75715e">// remove 0 at beginning of output
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>q<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        out<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span>q<span style="color:#f92672">.</span><span style="color:#a6e22e">poll</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> out<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h1 id="max-chunks-to-make-sorted-ii">Max Chunks To Make Sorted II</h1>
<p>Link: <a href="https://leetcode.com/problems/max-chunks-to-make-sorted-ii/">Max Chunks To Make Sorted II</a></p>
<h2 id="problem-description-4">Problem description</h2>
<p><em>This question is the same as &ldquo;<a href="https://leetcode.com/problems/max-chunks-to-make-sorted/">Max Chunks To Make Sorted</a>&rdquo; except the integers of the given array are not necessarily distinct, the input array could be up to length <code>2000</code>, and the elements could be up to <code>10**8</code>.</em></p>
<hr>
<p>Given an array <code>arr</code> of integers (<strong>not necessarily distinct</strong>), we split the array into some number of &ldquo;chunks&rdquo; (partitions), and individually sort each chunk. After concatenating them, the result equals the sorted array.</p>
<p>What is the most number of chunks we could have made?</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: arr = [5,4,3,2,1]
Output: 1
Explanation:
Splitting into two or more chunks will not return the required result.
For example, splitting into [5, 4], [3, 2, 1] will result in [4, 5, 1, 2, 3], which isn't sorted.
</code></pre><p><strong>Example 2:</strong></p>
<pre><code>Input: arr = [2,1,3,4,4]
Output: 4
Explanation:
We can split into two chunks, such as [2, 1], [3, 4, 4].
However, splitting into [2, 1], [3], [4], [4] is the highest number of chunks possible.
</code></pre><p><strong>Note:</strong></p>
<ul>
<li><code>arr</code> will have length in range <code>[1, 2000]</code>.</li>
<li><code>arr[i]</code> will be an integer in range <code>[0, 10**8]</code>.</li>
</ul>
<h2 id="method--code-4">Method &amp; Code</h2>
<p>Two approaches:</p>
<h3 id="monotone-stack-2">Monotone Stack</h3>
<p>Traverse the array and keep a monotonous increasing stack. The top of stack is the max value during the traverse. Each chunk should have a largest element. Hence, if <code>arr[i]</code> is smaller than top of stack, store the top of the stack and pop elements smaller than <code>arr[i]</code>. In this way, the stacks will save each chunk&rsquo;s largest element.</p>
<p>Finally, return the size of stack, since it stores the largest element in chunk, which the size is # of chunks.</p>
<ul>
<li>Time complexity: <code>O(n)</code>.</li>
<li>Space complexity: <code>O(n)</code>.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Monotone stack.
</span><span style="color:#75715e"> * Traverse the array and keep a monotonous increasing stack. The top of stack is the max value during the traverse.
</span><span style="color:#75715e"> * Each chunk should have a largest element.
</span><span style="color:#75715e"> * Hence, if arr[i] is smaller than top of stack, store the top of the stack and pop elements smaller than arr[i].
</span><span style="color:#75715e"> * In this way, the stacks will save each chunk&#39;s largest element.
</span><span style="color:#75715e"> * Finally, return the size of stack, since it stores the largest element in chunk, which the size is # of chunks.
</span><span style="color:#75715e"> * Time complexity: O(n).
</span><span style="color:#75715e"> * Space complexity: O(n).
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param arr given array
</span><span style="color:#75715e"> * @return most number of chunks could have made
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maxChunksToSorted</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> arr<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    Stack<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> s <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stack<span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">:</span> arr<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>s<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> i <span style="color:#f92672">&lt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">int</span> currentMax <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>s<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> i <span style="color:#f92672">&lt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>      <span style="color:#75715e">// pop
</span><span style="color:#75715e"></span>                s<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            s<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>currentMax<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
            s<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>      <span style="color:#75715e">// keep increasing
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="sorting-and-compare-prefix-sum">Sorting And Compare Prefix Sum</h3>
<p>If the array is sorted, then each element in array is a chunk. Compare it to unsorted original array, if part of both prefix sum is equal, then the sorted subarray is the same.</p>
<p>Sort the array, then traverse the array. Count the prefix sum of sorted array and original array. If the prefix sum of two arrays are equal, then one more chunk is found.</p>
<ul>
<li>Time complexity: <code>O(nlogn)</code>.</li>
<li>Space complexity: <code>O(1)</code>.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Naive solution.
</span><span style="color:#75715e"> * If the array is sorted, then each element in array is a chunk.
</span><span style="color:#75715e"> * Compare it to unsorted original array, if part of the both
</span><span style="color:#75715e"> * Sort the array. Then traverse the array. Count the prefix sum of sorted array and original array.
</span><span style="color:#75715e"> * If the prefix sum of two arrays are equal, then one more chunk is found.
</span><span style="color:#75715e"> * Time complexity: O(nlogn).
</span><span style="color:#75715e"> * Space complexity: O(1).
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param arr given array
</span><span style="color:#75715e"> * @return most number of chunks could have made
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">sortArray</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> arr<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> sorted <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">copyOf</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">,</span> arr<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">sort</span><span style="color:#f92672">(</span>sorted<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">long</span> sum1 <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> sum2 <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>        <span style="color:#75715e">// int may cause overflow
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> arr<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        sum1 <span style="color:#f92672">+</span><span style="color:#f92672">=</span> arr<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        sum2 <span style="color:#f92672">+</span><span style="color:#f92672">=</span> sorted<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>sum1 <span style="color:#f92672">=</span><span style="color:#f92672">=</span> sum2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            count<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> count<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h1 id="daily-temperatures">Daily Temperatures</h1>
<p>Link: <a href="https://leetcode.com/problems/daily-temperatures/">Daily Temperatures</a></p>
<h2 id="problem-description-5">Problem description</h2>
<p>Given a list of daily temperatures <code>T</code>, return a list such that, for each day in the input, tells you how many days you would have to wait until a warmer temperature. If there is no future day for which this is possible, put <code>0</code> instead.</p>
<p>For example, given the list of temperatures <code>T = [73, 74, 75, 71, 69, 72, 76, 73]</code>, your output should be <code>[1, 1, 4, 2, 1, 1, 0, 0]</code>.</p>
<p><strong>Note:</strong> The length of <code>temperatures</code> will be in the range <code>[1, 30000]</code>. Each temperature will be an integer in the range <code>[30, 100]</code>.</p>
<h2 id="method--code-5">Method &amp; Code</h2>
<p>Monotone Stack. Use a stack to save the days that has not found a warmer day. Compare current value to top of stack, pop days until reaches a day with higher value or stack is empty.</p>
<p>Use an array to simulate the stack to reduce time.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Use a stack to save the days that has not found a warmer day.
</span><span style="color:#75715e"> * Compare current value to top of stack, pop days until reaches a day with higher value or stack is empty.
</span><span style="color:#75715e"> * Use an array to simulate the stack to reduce time.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param T given daily temperatures
</span><span style="color:#75715e"> * @return for each day in the input, tells how many days have to wait until a warmer temperature
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> <span style="color:#a6e22e">dailyTemperatures</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> T<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

<span style="color:#75715e">//        Stack&lt;Integer&gt; s = new Stack&lt;&gt;();
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> s <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>T<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>T<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> top <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> out<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

<span style="color:#75715e">//            while (!s.isEmpty() &amp;&amp; T[i] &gt; T[s.peek()]) {        // top of stack is the days that have not find warmer one
</span><span style="color:#75715e"></span><span style="color:#75715e">//                out[s.peek()] = i - s.pop();
</span><span style="color:#75715e"></span><span style="color:#75715e">//            }
</span><span style="color:#75715e"></span><span style="color:#75715e">//            s.push(i);
</span><span style="color:#75715e"></span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>top <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1 <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> T<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">&gt;</span> T<span style="color:#f92672">[</span>s<span style="color:#f92672">[</span>top<span style="color:#f92672">]</span><span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            out<span style="color:#f92672">[</span>s<span style="color:#f92672">[</span>top<span style="color:#f92672">]</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> i <span style="color:#f92672">-</span> s<span style="color:#f92672">[</span>top<span style="color:#f92672">-</span><span style="color:#f92672">-</span><span style="color:#f92672">]</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        s<span style="color:#f92672">[</span><span style="color:#f92672">+</span><span style="color:#f92672">+</span>top<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> i<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">return</span> out<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h1 id="next-greater-node-in-linked-list">Next Greater Node In Linked List</h1>
<p>Link: <a href="https://leetcode.com/problems/next-greater-node-in-linked-list">Next Greater Node In Linked List</a></p>
<h2 id="problem-description-6">Problem description</h2>
<p>We are given a linked list with <code>head</code> as the first node.  Let&rsquo;s number the nodes in the list: <code>node_1, node_2, node_3, ...</code> etc.</p>
<p>Each node may have a <em>next larger</em> <strong>value</strong>: for <code>node_i</code>, <code>next_larger(node_i)</code> is the <code>node_j.val</code> such that <code>j &gt; i</code>, <code>node_j.val &gt; node_i.val</code>, and <code>j</code> is the smallest possible choice.  If such a <code>j</code> does not exist, the next larger value is <code>0</code>.</p>
<p>Return an array of integers <code>answer</code>, where <code>answer[i] = next_larger(node_{i+1})</code>.</p>
<p>Note that in the example <strong>inputs</strong> (not outputs) below, arrays such as <code>[2,1,5]</code> represent the serialization of a linked list with a head node value of 2, second node value of 1, and third node value of 5.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: [2,1,5]
Output: [5,5,0]
</code></pre><p><strong>Example 2:</strong></p>
<pre><code>Input: [2,7,4,3,5]
Output: [7,0,5,5,0]
</code></pre><p><strong>Example 3:</strong></p>
<pre><code>Input: [1,7,5,1,9,2,5,1]
Output: [7,9,9,9,0,5,0,0]
</code></pre><p><strong>Note:</strong></p>
<ol>
<li><code>1 &lt;= node.val &lt;= 10^9</code> for each node in the linked list.</li>
<li>The given list has length in the range <code>[0, 10000]</code>.</li>
</ol>
<h2 id="method--code-6">Method &amp; Code</h2>
<p>Almost same as previous problem. The only difference is the list has to be traversed first.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Use a stack to store previous small value and its index.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param head head node
</span><span style="color:#75715e"> * @return array of integers answer, where answer[i] = next_larger(node_{i+1}).
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> <span style="color:#a6e22e">nextLargerNodes</span><span style="color:#f92672">(</span>ListNode head<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>head <span style="color:#f92672">=</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>

    ListNode dummy <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>dummy <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        size<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">;</span>
        dummy <span style="color:#f92672">=</span> dummy<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span> out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>size<span style="color:#f92672">]</span><span style="color:#f92672">;</span>
    ArrayList<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span><span style="color:#f92672">&gt;</span> arr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>       <span style="color:#75715e">// use array list to replace stack
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> index <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>head <span style="color:#f92672">!</span><span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#f92672">!</span>arr<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> head<span style="color:#f92672">.</span><span style="color:#a6e22e">val</span> <span style="color:#f92672">&gt;</span> arr<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            out<span style="color:#f92672">[</span>arr<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span><span style="color:#f92672">[</span>0<span style="color:#f92672">]</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> head<span style="color:#f92672">.</span><span style="color:#a6e22e">val</span><span style="color:#f92672">;</span>
            arr<span style="color:#f92672">.</span><span style="color:#a6e22e">remove</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        arr<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span><span style="color:#f92672">]</span><span style="color:#f92672">{</span>index<span style="color:#f92672">+</span><span style="color:#f92672">+</span><span style="color:#f92672">,</span> head<span style="color:#f92672">.</span><span style="color:#a6e22e">val</span><span style="color:#f92672">}</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        head <span style="color:#f92672">=</span> head<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">return</span> out<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://yy-zhou.github.io/tags/stack/">Stack</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yy-zhou.github.io/2020/02/lc-628-152-maximum-product-in-array/" data-tooltip="LC 628 152 - Maximum Product in Array">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yy-zhou.github.io/2020/02/lc-222-count-complete-tree-nodes/" data-tooltip="LC 222 - Count Complete Tree Nodes">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 <a href="https://github.com/yyzhou95">BorisMirage</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yy-zhou.github.io/2020/02/lc-628-152-maximum-product-in-array/" data-tooltip="LC 628 152 - Maximum Product in Array">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yy-zhou.github.io/2020/02/lc-222-count-complete-tree-nodes/" data-tooltip="LC 222 - Count Complete Tree Nodes">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="2">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://yy-zhou.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Notebook</h4>
    
      <div id="about-card-bio">Bingo!</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        San Jose
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://yy-zhou.github.io/img/bg.jpeg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://yy-zhou.github.io/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
  




    
  </body>
</html>

