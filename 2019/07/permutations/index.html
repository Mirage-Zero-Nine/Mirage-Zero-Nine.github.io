<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.57.2 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Steve Zhou">
<meta name="keywords" content="">
<meta name="description" content="">


<meta property="og:description" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="Permutations">
<meta name="twitter:title" content="Permutations">
<meta property="og:url" content="https://yyzhou95.github.io/2019/07/permutations/">
<meta property="twitter:url" content="https://yyzhou95.github.io/2019/07/permutations/">
<meta property="og:site_name" content="Bingo!">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2019-07-05T00:00:00">
  
  
    <meta property="article:modified_time" content="2019-07-05T00:00:00">
  
  
  
    
      <meta property="article:section" content="LeetCode Solution">
    
      <meta property="article:section" content="Permutations">
    
  
  
    
      <meta property="article:tag" content="Permutations">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://yyzhou95.github.io/img/avatar.jpg">
  <meta property="twitter:image" content="https://yyzhou95.github.io/img/avatar.jpg">


    <title>Permutations</title>

    <link rel="icon" href="https://yyzhou95.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://yyzhou95.github.io/2019/07/permutations/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://yyzhou95.github.io/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://yyzhou95.github.io/">Bingo!</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://yyzhou95.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://yyzhou95.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://yyzhou95.github.io/#about">
          <img class="sidebar-profile-picture" src="https://yyzhou95.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Steve Zhou</h4>
        
          <h5 class="sidebar-profile-bio">Bingo!</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/yyzhou95" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      Permutations
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2019-07-05T00:00:00Z">
        
  July 5, 2019

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://yyzhou95.github.io/categories/leetcode-solution">LeetCode Solution</a>, 
    
      <a class="category-link" href="https://yyzhou95.github.io/categories/permutations">Permutations</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>Links:</p>

<ul>
<li><a href="https://leetcode.com/problems/next-permutation">Next Permutation</a></li>
<li><a href="https://leetcode.com/problems/permutation-sequence">Permutation Sequence</a></li>
<li><a href="https://leetcode.com/problems/permutations">Permutations</a></li>
<li><a href="https://leetcode.com/problems/permutations-ii/">Permutations II</a></li>
</ul>

<h2 id="problem-description">Problem description</h2>

<h3 id="next-permutation">Next Permutation</h3>

<p>Implement <strong>next permutation</strong>, which rearranges numbers into the lexicographically next greater permutation of numbers.</p>

<p>If such arrangement is not possible, it must rearrange it as the lowest possible order (ie, sorted in ascending order).</p>

<p>The replacement must be <strong>in-place</strong> and use only constant extra memory.</p>

<p>Here are some examples. Inputs are in the left-hand column and its corresponding outputs are in the right-hand column.</p>

<pre><code>1,2,3 → 1,3,2
3,2,1 → 1,2,3
1,1,5 → 1,5,1
</code></pre>

<h3 id="permutation-sequence">Permutation Sequence</h3>

<p>The set <code>[1,2,3,...,*n*]</code> contains a total of <em>n</em>! unique permutations.</p>

<p>By listing and labeling all of the permutations in order, we get the following sequence for <em>n</em> = 3:</p>

<ol>
<li><code>&quot;123&quot;</code></li>
<li><code>&quot;132&quot;</code></li>
<li><code>&quot;213&quot;</code></li>
<li><code>&quot;231&quot;</code></li>
<li><code>&quot;312&quot;</code></li>
<li><code>&quot;321&quot;</code></li>
</ol>

<p>Given <em>n</em> and <em>k</em>, return the *k*th permutation sequence.</p>

<p><strong>Note:</strong></p>

<ul>
<li>Given <em>n</em> will be between 1 and 9 inclusive.</li>
<li>Given <em>k</em> will be between 1 and <em>n</em>! inclusive.</li>
</ul>

<p><strong>Example 1:</strong></p>

<pre><code>Input: n = 3, k = 3
Output: &quot;213&quot;
</code></pre>

<p><strong>Example 2:</strong></p>

<pre><code>Input: n = 4, k = 9
Output: &quot;2314&quot;
</code></pre>

<h3 id="permutations">Permutations</h3>

<p>Given a collection of <strong>distinct</strong> integers, return all possible permutations.</p>

<p><strong>Example:</strong></p>

<pre><code>Input: [1,2,3]
Output:
[
  [1,2,3],
  [1,3,2],
  [2,1,3],
  [2,3,1],
  [3,1,2],
  [3,2,1]
]
</code></pre>

<h3 id="permutations-ii">Permutations II</h3>

<p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.</p>

<p><strong>Example:</strong></p>

<pre><code>Input: [1,1,2]
Output:
[
  [1,1,2],
  [1,2,1],
  [2,1,1]
]
</code></pre>

<h2 id="method">Method</h2>

<h3 id="next-permutation-1">Next Permutation</h3>

<p>This problem is actually to find the next larger number based on given number.</p>

<p>Start at last digit of number, and find the increasing order of digits from right to left. The increasing order means this sequence is the largest number and no more larger can be found.</p>

<p>Find the minimum value in increasing array that is larger than left value next to increasing array. Swap these two elements and reverse the increasing array.</p>

<p>The reason of reversing is that, the order of permutation is from small to large. Hence, a new permutation is the smallest value that is larger than current value.</p>

<p>For instance, given an array = <code>{1,2,3,2,1}</code>, swap 2 and 3. Then reverse subarray <code>{2,2,1}</code>. Finally, result is <code>{1,3,1,2,2}</code>.</p>

<h3 id="permutation-sequence-1">Permutation Sequence</h3>

<p>Do not use backtracking in this problem. Backtracking would cause TLE under this problem.</p>

<p>The better way to solve this problem is by find out kth permutation sequence directly. In this way to avoid the time consuming for finding all sequence.</p>

<p>Use an example to demonstrate the process.</p>

<p>Assume <code>n=4</code>, <code>k=10</code>. Then all sequence can be presented in this way:</p>

<pre><code>1 -&gt; combine permutations of {2, 3, 4}
2 -&gt; combine permutations of {1, 3, 4}
3 -&gt; combine permutations of {1, 2, 4}
4 -&gt; combine permutations of {1, 2, 3}
</code></pre>

<p>Each permutation has <code>(n - 1)!</code>, which is fixed. Therefore, first step is to find out first number of tenth permutations. <code>3! = 6</code>, and <code>6 &lt;= 10 &lt;= 12</code>. Hence, first number is 2.</p>

<p>Then the second digit of tenth permutation can be determined in similar way, <code>10 - 6 = 4</code>, this is the index of resting permutation. And there are total <code>3 * 2 = 6</code> permutations. Therefore the index of second digit is 3.</p>

<p>Finally, all digits can be fixed and then the kth permutation can be found. In this example, the result is <code>2341</code>.</p>

<h3 id="permutations-1">Permutations</h3>

<p>Use backtracking to traverse each possibility. The end point of backtracking is when current temporary list reaching the size of given array.</p>

<h3 id="permutations-ii-1">Permutations II</h3>

<p>The difference between permute problem is that one boolean array is added during backtracking process. This boolean array is to record if current element is used (for uniqueness).</p>

<h2 id="code">Code</h2>

<h3 id="next-permutation-2">Next Permutation</h3>

<pre><code class="language-java">/**
 * This problem is actually to find the next larger number based on given number.
 * Start at last digit of number, and find the increasing order of digits from right to left.
 * The increasing order means this sequence is the largest number and no more larger can be found.
 * Find the minimum value in increasing array that is larger than left value next to increasing array.
 * Swap these two elements and reverse the increasing array.
 * The reason of reversing is that, the order of permutation is from small to large.
 * Hence, a new permutation is the smallest value that is larger than current value.
 * For instance, given a array = {1,2,3,2,1}, swap 2 and 3. Then reverse subarray {2,2,1}.
 * Finally, result is {1,3,1,2,2}.
 *
 * @param nums input int array
 */
public void nextPermutation(int[] nums) {

    /* Corner case */
    if (nums.length &lt; 2) {
        return;
    }

    int i = nums.length - 2;
    while (i &gt; -1 &amp;&amp; nums[i] &gt;= nums[i + 1]) {
        i--;        // find first decreasing (from right to left) value in array
    }

    if (i &gt; -1) {       // if there exist an decreasing element
        int j = nums.length - 1;
        while (j &gt; 0 &amp;&amp; nums[i] &gt;= nums[j]) {
            j--;        // find smallest value in increasing array that is larger than decreasing element
        }
        swap(nums, i, j);       // swap them
    }

    reverse(nums, i + 1, nums.length - 1);
}

/**
 * Swap two elements in array.
 *
 * @param nums given array
 * @param i    first index
 * @param j    second index
 */
private void swap(int[] nums, int i, int j) {
    int temp = nums[i];
    nums[i] = nums[j];
    nums[j] = temp;
}

/**
 * Reverse array based on given array and range.
 *
 * @param nums given array
 * @param i    start index
 * @param j    end index
 */
private void reverse(int[] nums, int i, int j) {
    while (i &lt; j) {
        swap(nums, i, j);
        i++;
        j--;
    }
}
</code></pre>

<h3 id="permutation-sequence-2">Permutation Sequence</h3>

<pre><code class="language-java">/**
 * This problem can not be solved in time when using backtracking.
 * Only need to find out kth permutation sequence, hence no need to find all sequence.
 * Assume given n, then each single digit in n contains (n-1)! subsets.
 * Hence, in this way each digit can be recursively found until the length is acquired.
 *
 * @param n between 1 and 9 inclusive
 * @param k between 1 and n! inclusive
 * @return kth permutation sequence
 */
public String getPermutation(int n, int k) {

    /* Create set */
    List&lt;Integer&gt; set = new LinkedList&lt;&gt;();
    for (int i = 1; i &lt; n + 1; i++) {
        set.add(i);
    }

    int[] factorial = new int[n];       // save factorial from 1 to n
    factorial[0] = 1;
    for (int i = 1; i &lt; factorial.length; i++) {
        factorial[i] = i * factorial[i - 1];
    }

    /* Subset index starts from 0 */
    k = k - 1;
    StringBuilder output = new StringBuilder();

    for (int i = n; i &gt; 0; i--) {

        int temp = k / factorial[i - 1];
        k = k % factorial[i - 1];
        output.append(set.get(temp));

        set.remove(temp);       // find digits in subset that do not contains previous selected digit
    }

    return output.toString();
}
</code></pre>

<h3 id="permutations-2">Permutations</h3>

<pre><code class="language-java">/**
 * Use backtracking to traverse each possibility.
 *
 * @param nums input array
 * @return all possible permutations
 */
public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {
    List&lt;List&lt;Integer&gt;&gt; res = new LinkedList&lt;&gt;();

    /* Corner case */
    if (nums.length == 0) {
        return res;
    }

    Arrays.sort(nums);
    backtracking(nums, new ArrayList&lt;&gt;(), res);

    return res;
}

/**
 * Backtracking to find all possible permutations.
 * The end point is when current temporary list has reached the size of given array.
 *
 * @param nums  given array
 * @param cache temporary list
 * @param res   output list
 */
private void backtracking(int[] nums, List&lt;Integer&gt; cache, List&lt;List&lt;Integer&gt;&gt; res) {
    if (cache.size() == nums.length) {
        res.add(new ArrayList&lt;&gt;(cache));
    } else {

        /* Traverse elements in array */
        for (int num : nums) {
            if (!cache.contains(num)) {
                cache.add(num);
                backtracking(nums, cache, res);
                cache.remove(cache.size() - 1);
            }
        }
    }
}
</code></pre>

<h3 id="permutations-ii-2">Permutations II</h3>

<pre><code class="language-java">/**
 * Backtracking.
 * The difference between permute problem is that one boolean array is added during backtracking process.
 * This boolean array is to record if current element is used (for uniqueness).
 *
 * @param nums input number collection
 * @return all possible unique permutations
 */
public List&lt;List&lt;Integer&gt;&gt; permuteUnique(int[] nums) {
    List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();
    if (nums.length == 0) {
        return res;
    }

    Arrays.sort(nums);
    backtracking(nums, new ArrayList&lt;&gt;(), res, new boolean[nums.length]);
    return res;

}

private void backtracking(int[] nums, List&lt;Integer&gt; cache, List&lt;List&lt;Integer&gt;&gt; res, boolean[] use) {

    /* Exit point */
    if (cache.size() == nums.length) {
        res.add(new ArrayList&lt;&gt;(cache));
    } else {
        for (int i = 0; i &lt; nums.length; i++) {

            if (use[i] || i &gt; 0 &amp;&amp; nums[i] == nums[i - 1] &amp;&amp; !use[i - 1]) {     // avoid reuse element in array
                continue;
            }

            /* Add element to list and mark current element as used */
            cache.add(nums[i]);
            use[i] = true;
            backtracking(nums, cache, res, use);
            use[i] = false;
            cache.remove(cache.size() - 1);
        }
    }
}
</code></pre>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://yyzhou95.github.io/tags/permutations/">Permutations</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/07/word-pattern/" data-tooltip="Word Pattern">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/07/reverse-words-in-a-string/" data-tooltip="Reverse Words in a String">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Steve Zhou. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/07/word-pattern/" data-tooltip="Word Pattern">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/07/reverse-words-in-a-string/" data-tooltip="Reverse Words in a String">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://yyzhou95.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Steve Zhou</h4>
    
      <div id="about-card-bio">Bingo!</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer, Full-Stack Developer.
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Los Angeles
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://yyzhou95.github.io/img/bg.jpeg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://yyzhou95.github.io/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
  




    
  </body>
</html>

