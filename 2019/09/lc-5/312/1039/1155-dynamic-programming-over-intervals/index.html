<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.58.3 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Steve Zhou">
<meta name="keywords" content="">
<meta name="description" content="">


<meta property="og:description" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="LC 5/312/1039/1155 - Dynamic Programming Over Intervals">
<meta name="twitter:title" content="LC 5/312/1039/1155 - Dynamic Programming Over Intervals">
<meta property="og:url" content="https://yyzhou95.github.io/2019/09/lc-5/312/1039/1155-dynamic-programming-over-intervals/">
<meta property="twitter:url" content="https://yyzhou95.github.io/2019/09/lc-5/312/1039/1155-dynamic-programming-over-intervals/">
<meta property="og:site_name" content="Bingo!">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2019-09-20T00:00:00">
  
  
    <meta property="article:modified_time" content="2019-09-20T00:00:00">
  
  
  
    
      <meta property="article:section" content="Algorithm">
    
      <meta property="article:section" content="Favorite">
    
  
  
    
      <meta property="article:tag" content="Dynamic Programming">
    
      <meta property="article:tag" content="Bottom-Up">
    
      <meta property="article:tag" content="Divide And Conquer">
    
      <meta property="article:tag" content="Interval">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://yyzhou95.github.io/img/avatar.jpg">
  <meta property="twitter:image" content="https://yyzhou95.github.io/img/avatar.jpg">


    <title>LC 5/312/1039/1155 - Dynamic Programming Over Intervals</title>

    <link rel="icon" href="https://yyzhou95.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://yyzhou95.github.io/2019/09/lc-5/312/1039/1155-dynamic-programming-over-intervals/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://yyzhou95.github.io/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://yyzhou95.github.io/css/about.css">
      
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://yyzhou95.github.io/">Bingo!</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://yyzhou95.github.io/about">
    
    
    
      
        <img class="header-picture" src="https://yyzhou95.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://yyzhou95.github.io/about">
          <img class="sidebar-profile-picture" src="https://yyzhou95.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Steve Zhou</h4>
        
          <h5 class="sidebar-profile-bio">Bingo!</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/categories/algorithm/">
    
      <i class="sidebar-button-icon fa fa-lg fa-flag-o"></i>
      
      <span class="sidebar-button-desc">Algorithm</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/categories/notes/">
    
      <i class="sidebar-button-icon fa fa-lg fa-sticky-note"></i>
      
      <span class="sidebar-button-desc">Notebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/yyzhou95" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://yyzhou95.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/yyzhou95/yyzhou95.github.io" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-link"></i>
      
      <span class="sidebar-button-desc">Source Code</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      LC 5/312/1039/1155 - Dynamic Programming Over Intervals
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2019-09-20T00:00:00Z">
        
  September 20, 2019

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://yyzhou95.github.io/categories/algorithm">Algorithm</a>, 
    
      <a class="category-link" href="https://yyzhou95.github.io/categories/favorite">Favorite</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
<ul>
<li><a href="#longest-palindromic-substring">Longest Palindromic Substring</a>
<ul>
<li><a href="#problem-description">Problem description</a></li>
<li><a href="#method">Method</a></li>
<li><a href="#code">Code</a></li>
</ul></li>
<li><a href="#burst-balloons">Burst Balloons</a>
<ul>
<li><a href="#problem-description-1">Problem description</a></li>
<li><a href="#method-1">Method</a></li>
<li><a href="#code-1">Code</a></li>
</ul></li>
<li><a href="#minimum-score-triangulation-of-polygon">Minimum Score Triangulation of Polygon</a>
<ul>
<li><a href="#problem-description-2">Problem description</a></li>
<li><a href="#method-2">Method</a></li>
<li><a href="#code-2">Code</a></li>
</ul></li>
<li><a href="#number-of-dice-rolls-with-target-sum">Number of Dice Rolls With Target Sum</a>
<ul>
<li><a href="#problem-description-3">Problem description</a></li>
<li><a href="#method-3">Method</a></li>
<li><a href="#code-3">Code</a></li>
</ul></li>
</ul>
</nav>

<h1 id="longest-palindromic-substring">Longest Palindromic Substring</h1>

<p>Link: <a href="https://leetcode.com/problems/longest-palindromic-substring/">Longest Palindromic Substring</a></p>

<h2 id="problem-description">Problem description</h2>

<p>Given a string <strong>s</strong>, find the longest palindromic substring in <strong>s</strong>. You may assume that the maximum length of <strong>s</strong> is 1000.</p>

<p><strong>Example 1:</strong></p>

<pre><code>Input: &quot;babad&quot;
Output: &quot;bab&quot;
Note: &quot;aba&quot; is also a valid answer.
</code></pre>

<p><strong>Example 2:</strong></p>

<pre><code>Input: &quot;cbbd&quot;
Output: &quot;bb&quot;
</code></pre>

<h2 id="method">Method</h2>

<p><strong>Normal Solution</strong></p>

<p>There are two conditions of palindromic substring.</p>

<ul>
<li>First is that the center only contains one letter, such as &ldquo;aba&rdquo;.</li>
<li>Second is that the center contains two letters, such as &ldquo;abba&rdquo;.</li>
</ul>

<p>Hence, Each one or two adjacent letters could be center of palindromic substring.</p>

<p><strong>Dynamic Programming</strong></p>

<p>Dynamic programming.</p>

<p>This solution is slower than brute force approach.</p>

<p><code>dp[i][j]</code>: <code>string(j, i)</code> is palindromic.
<code>dp[i][j] = ((i - j) &lt;= 2 || dp[i - 1][j + 1]) &amp;&amp; s.charAt(i) == s.charAt(j)</code></p>

<ul>
<li><code>(i - j) &lt;= 2</code>: Only one char</li>
<li><code>s.charAt(i) == s.charAt(j) &amp;&amp; dp[i - 1][j + 1]</code>: Two bound chars are equal, and <code>string(j + 1, i - 1)</code> is palindromic.</li>
</ul>

<h2 id="code">Code</h2>

<pre><code class="language-java">/**
 * There are two conditions of palindromic substring.
 * First is that the center only contains one letter, such as &quot;aba&quot;.
 * Second is that the center contains two letters, such as &quot;abba&quot;.
 * Hence, Each one or two adjacent letters could be center of palindromic substring.
 *
 * @param s given string
 * @return longest palindromic substring
 */
public String longestPalindrome(String s) {
    if (s.length() &lt; 2) {
        return s;
    }

    int maxStart = 0;       // return first letter if there is no palindromic substring
    int maxEnd = 0;

    for (int i = 0; i &lt; s.length() - 1; i++) {      // traverse s to find center of Palindromic Substring

        int oddCenter = findLength(s, i, i);        // center has one letter
        int evenCenter = findLength(s, i, i + 1);       // center has two letters

        int currentLength = Math.max(oddCenter, evenCenter);

        /* Set max length's start and end for slicing when loop is over */
        if (currentLength &gt; maxEnd - maxStart) {
            maxStart = i - (currentLength - 1) / 2;
            maxEnd = i + currentLength / 2;
        }

    }
    return s.substring(maxStart, maxEnd + 1);
}

/**
 * Find center of palindromic substring.
 *
 * @param s     given string
 * @param left  left bound of palindromic substring
 * @param right right bound of palindromic substring
 * @return length of palindromic substring
 */
private int findLength(String s, int left, int right) {
    while (left &gt;= 0 &amp;&amp; right &lt; s.length() &amp;&amp; s.charAt(left) == s.charAt(right)) {
        left--;
        right++;
    }
    return right - left - 1;
}

/**
 * Dynamic programming.
 * This solution is slower than brute force approach.
 * dp[i][j]: string(j, i) is palindromic.
 * dp[i][j] = ((i - j) &lt;= 2 || dp[i - 1][j + 1]) &amp;&amp; s.charAt(i) == s.charAt(j)
 * 1. Only one char
 * 2. Two bound chars are equal, and string(j+1, i-1) is palindromic.
 *
 * @param s given string
 * @return longest palindromic substring in s
 */
public String dynamicProgramming(String s) {

    /* Corner case */
    if (s.length() &lt; 2) {
        return s;
    }

    int n = s.length(), start = 0, maxLength = 1;
    boolean[][] dp = new boolean[n][n];

    for (int i = 0; i &lt; n; i++) {
        dp[i][i] = true;
    }

    for (int i = 1; i &lt; n; i++) {
        for (int j = i; j &gt;= 0; j--) {
            dp[i][j] = ((i - j) &lt;= 2 || dp[i - 1][j + 1]) &amp;&amp; s.charAt(i) == s.charAt(j);

            if (dp[i][j] &amp;&amp; maxLength &lt; (i - j + 1)) {
                start = j;                  // max palindromic substring start position
                maxLength = i - j + 1;      // max palindromic substring length
            }
        }
    }

    return s.substring(start, start + maxLength);
}
</code></pre>

<h1 id="burst-balloons">Burst Balloons</h1>

<p>Link: <a href="https://leetcode.com/problems/burst-balloons/">Burst Balloons</a></p>

<h2 id="problem-description-1">Problem description</h2>

<p>Given <code>n</code>balloons, indexed from <code>0</code>to <code>n-1</code>. Each balloon is painted with a number on it represented by array <code>nums</code>. You are asked to burst all the balloons. If the you burst balloon <code>i</code>you will get <code>nums[left] * nums[i] * nums[right]</code>coins. Here <code>left</code>and <code>right</code>are adjacent indices of <code>i</code>. After the burst, the <code>left</code>and <code>right</code>then becomes adjacent.</p>

<p>Find the maximum coins you can collect by bursting the balloons wisely.</p>

<p><strong>Note:</strong></p>

<ul>
<li>You may imagine <code>nums[-1] = nums[n] = 1</code>. They are not real therefore you can not burst them.</li>
<li>0 ≤ <code>n</code>≤ 500, 0 ≤ <code>nums[i]</code>≤ 100</li>
</ul>

<p><strong>Example:</strong></p>

<pre><code>Input: [3,1,5,8]
Output: 167 
Explanation: nums = [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []
             coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167
</code></pre>

<h2 id="method-1">Method</h2>

<p>Divide and conquer, or dynamic programming.</p>

<p><strong>Divide And Conquer</strong>:</p>

<p>Divide and conquer with memoization. The sub problem is to select the current balloon as the last one to shoot. In this way, recursively find its left and right max coins.</p>

<p><strong>Dynamic Programming</strong>:</p>

<p>Dynamic programming solution.</p>

<p>State transition:</p>

<ul>
<li><code>dp[i][j]</code>: max coins can be obtained from <code>i</code> to <code>j</code>.</li>
<li><code>dp[i][j] = max(dp[i][j], dp[i][k - 1] + dp[k + 1][j] + nums[i] * nums[j] * nums[j])</code>, where <code>i &lt;= k &lt;= j</code>.</li>
</ul>

<h2 id="code-1">Code</h2>

<pre><code class="language-java">/**
 * Divide and conquer with memoization.
 * The sub problem is to select the current balloon as the last one to shoot.
 * In this way, recursively find its left and right max coins.
 *
 * @param nums input int array
 * @return max score
 */
public int maxCoins(int[] nums) {

    if (nums.length == 1) {
        return nums[0];
    }

    int[] coins = new int[nums.length + 2];
    for (int i = 0; i &lt; nums.length; i++) {
        coins[i + 1] = nums[i];
    }
    coins[0] = coins[coins.length - 1] = 1;

    return findMax(new int[coins.length][coins.length], coins, 0, coins.length - 1);
}

/**
 * Divide and conquer with memoization.
 * Recursively, find the max coins in left part and in right part, with current balloon scores.
 *
 * @param mem   memorization array
 * @param coins given coin array
 * @param left  left bound
 * @param right right bound
 * @return max coins from left to right
 */
private int findMax(int[][] mem, int[] coins, int left, int right) {

    if (left + 1 == right) {
        return 0;       // out of boundary
    }

    if (mem[left][right] &gt; 0) {
        return mem[left][right];        // return current max (memorization)
    }
    int maxCoins = 0;

    for (int i = left + 1; i &lt; right; ++i) {
        maxCoins = Math.max(coins[i] * coins[left] * coins[right] + findMax(mem, coins, left, i) + findMax(mem, coins, i, right), maxCoins);
    }
    mem[left][right] = maxCoins;

    return maxCoins;
}

/**
 * Dynamic programming solution.
 * dp[i][j]: max coins can be obtained from i to j.
 * dp[i][j] = max(dp[i][j], dp[i][k - 1] + dp[k + 1][j] + nums[i] * nums[j] * nums[j]), where i &lt;= k &lt;= j.
 *
 * @param nums given array
 * @return max score
 */
public int dp(int[] nums) {
    if (nums.length == 0) {
        return 0;
    }

    int n = nums.length;
    int[][] dp = new int[n][n];

    for (int len = 1; len &lt;= n; len++) {
        for (int i = 0; i + len &lt;= n; i++) {
            int j = i + len - 1;

            for (int k = i; k &lt;= j; k++) {

                /*
                 * If current element is the first or last element in array, the value that out of array count as 1.
                 * But this 1 will not be added into max score. */
                int coins = nums[k] * ((i &gt; 0) ? nums[i - 1] : 1) * ((j &lt; nums.length - 1) ? nums[j + 1] : 1);
                coins += (k &gt; i) ? dp[i][k - 1] : 0;
                coins += (k &lt; j) ? dp[k + 1][j] : 0;
                dp[i][j] = Math.max(dp[i][j], coins);
            }
        }
    }

    return dp[0][n - 1];
}
</code></pre>

<h1 id="minimum-score-triangulation-of-polygon">Minimum Score Triangulation of Polygon</h1>

<p>Link: <a href="https://leetcode.com/problems/minimum-score-triangulation-of-polygon/">Minimum Score Triangulation of Polygon</a></p>

<h2 id="problem-description-2">Problem description</h2>

<p>Given <code>N</code>, consider a convex <code>N</code>-sided polygon with vertices labelled <code>A[0], A[i], ..., A[N-1]</code> in clockwise order.</p>

<p>Suppose you triangulate the polygon into <code>N-2</code>triangles.  For each triangle, the value of that triangle is the <strong>product</strong> of the labels of the vertices, and the *total score*of the triangulation is the sum of these values over all <code>N-2</code>triangles in the triangulation.</p>

<p>Return the smallest possible total score that you can achieve with some triangulation of the polygon.</p>

<p><strong>Example 1:</strong></p>

<pre><code>Input: [1,2,3]
Output: 6
Explanation: The polygon is already triangulated, and the score of the only triangle is 6.
</code></pre>

<p><strong>Example 2:</strong></p>

<p><img src="../../../static/img/minimum-score-triangulation-of-polygon-1.png" alt="img" /></p>

<pre><code>Input: [3,7,4,5]
Output: 144
Explanation: There are two triangulations, with possible scores: 3*7*5 + 4*5*7 = 245, or 3*4*5 + 3*4*7 = 144.  The minimum score is 144.
</code></pre>

<p><strong>Example 3:</strong></p>

<pre><code>Input: [1,3,1,4,1,5]
Output: 13
Explanation: The minimum score triangulation has score 1*1*3 + 1*1*4 + 1*1*5 + 1*1*1 = 13.
</code></pre>

<p><strong>Note:</strong></p>

<ol>
<li><code>3 &lt;= A.length &lt;= 50</code></li>
<li><code>1 &lt;= A[i] &lt;= 100</code></li>
</ol>

<h2 id="method-2">Method</h2>

<p>Bottom-up dynamic programming.</p>

<p>Divide polygon into triangles can be regarded as calculate sum of vertices&rsquo; product. The recursive problem can be converted into, find a point that make score from <code>A[i]</code> to <code>A[j]</code> minimum. And then for the selected point k from previous problem, find a point that make score from <code>A[i]</code> to <code>A[k]</code>, <code>A[k]</code> to <code>A[j]</code> minimum.</p>

<p>Bottom-up state transition:</p>

<p><code>dp[i][j]</code>: the minimum score to triangulate from <code>A[i]</code> to <code>A[j]</code>.</p>

<p><code>dp[i][j] = min(dp[i][k] + dp[k][j] + A[i] * A[j] * A[k])</code>, where <code>i &lt; k &lt; j</code>, and <code>2 &lt; i + j &lt; A.length</code>.</p>

<h2 id="code-2">Code</h2>

<pre><code class="language-java">/**
 * Bottom-up dynamic programming.
 * Divide polygon into triangles can be regarded as calculate sum of vertices' product.
 * The recursive problem can be converted into, find a point that make score from A[i] to A[j] minimum.
 * And then for the selected point k from previous problem, find a point that make score from A[i] to A[k] minimum.
 * Bottom-up state transition:
 * dp[i][j]: the minimum score to triangulate from A[i] to A[j].
 * dp[i][j] = min(dp[i][k] + dp[k][j] + A[i] * A[j] * A[k]), where i &lt; k &lt; j, and 2 &lt; i + j &lt; A.length.
 *
 * @param A given array
 * @return smallest possible total score that you can achieve with some triangulation of the polygon
 */
public int minScoreTriangulation(int[] A) {
    int n = A.length;
    int[][] dp = new int[n][n];

    for (int length = 2; length &lt; n; length++) {      // length at least should be 2
        for (int i = 0; i + length &lt; n; i++) {
            int j = i + length;
            dp[i][j] = Integer.MAX_VALUE;
            for (int k = i + 1; k &lt; j; k++) {
                dp[i][j] = Math.min(dp[i][j], dp[i][k] + dp[k][j] + A[i] * A[j] * A[k]);
            }
        }
    }

    return dp[0][n - 1];
}
</code></pre>

<h1 id="number-of-dice-rolls-with-target-sum">Number of Dice Rolls With Target Sum</h1>

<p>Link: <a href="https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/">Number of Dice Rolls With Target Sum</a></p>

<h2 id="problem-description-3">Problem description</h2>

<p>You have <code>d</code> dice, and each die has <code>f</code> faces numbered <code>1, 2, ..., f</code>.</p>

<p>Return the number of possible ways (out of <code>fd</code> total ways) <strong>modulo 10^9 + 7</strong> to roll the dice so the sum of the face up numbers equals <code>target</code>.</p>

<p><strong>Example 1:</strong></p>

<pre><code>Input: d = 1, f = 6, target = 3
Output: 1
Explanation: 
You throw one die with 6 faces.  There is only one way to get a sum of 3.
</code></pre>

<p><strong>Example 2:</strong></p>

<pre><code>Input: d = 2, f = 6, target = 7
Output: 6
Explanation: 
You throw two dice, each with 6 faces.  There are 6 ways to get a sum of 7:
1+6, 2+5, 3+4, 4+3, 5+2, 6+1.
</code></pre>

<p><strong>Example 3:</strong></p>

<pre><code>Input: d = 2, f = 5, target = 10
Output: 1
Explanation: 
You throw two dice, each with 5 faces.  There is only one way to get a sum of 10: 5+5.
</code></pre>

<p><strong>Example 4:</strong></p>

<pre><code>Input: d = 1, f = 2, target = 3
Output: 0
Explanation: 
You throw one die with 2 faces.  There is no way to get a sum of 3.
</code></pre>

<p><strong>Example 5:</strong></p>

<pre><code>Input: d = 30, f = 30, target = 500
Output: 222616187
Explanation: 
The answer must be returned modulo 10^9 + 7.
</code></pre>

<p><strong>Constraints:</strong></p>

<ul>
<li><code>1 &lt;= d, f &lt;= 30</code></li>
<li><code>1 &lt;= target &lt;= 1000</code></li>
</ul>

<h2 id="method-3">Method</h2>

<p>Dynamic programming.</p>

<p>State transition:</p>

<p>If <code>j &lt;= i * f</code> (target # should at least be # of dices):</p>

<p><code>dp[i][j] = dp[i][j] + dp[i - 1][j - k]</code>, where <code>k</code> from <code>[1, f]</code> and <code>j - k &gt;= 0</code></p>

<h2 id="code-3">Code</h2>

<pre><code class="language-java">/**
 * Dynamic programming.
 * State transition:
 * If j &lt;= i * f (target # should at least be # of dices)
 * dp[i][j] = dp[i][j] + dp[i - 1][j - k], where k from [1, f] and j - k &gt;= 0.
 *
 * @param d      # of dices
 * @param f      # of faces
 * @param target target #
 * @return # of possible ways (modulo 10^9 + 7) to roll the dice so the sum of the face up numbers equals target
 */
public int numRollsToTarget(int d, int f, int target) {

    /* Corner case */
    if (d * f &lt; target || target &lt; d) {
        return 0;
    }

    int MOD = 1000000007;
    int[][] dp = new int[d + 1][target + 1];
    dp[0][0] = 1;       // 0 dice sums 0

    for (int i = 1; i &lt;= d; i++) {      // how many possibility can i dices sum up to j;
        for (int j = 1; j &lt;= target; j++) {
            if (j &lt;= i * f) {
                for (int k = 1; k &lt;= f &amp;&amp; k &lt;= j; k++) {
                    dp[i][j] = (dp[i][j] + dp[i - 1][j - k]) % MOD;
                }
            }
        }
    }

    return dp[d][target];
}
</code></pre>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://yyzhou95.github.io/tags/dynamic-programming/">Dynamic Programming</a>

  <a class="tag tag--primary tag--small" href="https://yyzhou95.github.io/tags/bottom-up/">Bottom-Up</a>

  <a class="tag tag--primary tag--small" href="https://yyzhou95.github.io/tags/divide-and-conquer/">Divide And Conquer</a>

  <a class="tag tag--primary tag--small" href="https://yyzhou95.github.io/tags/interval/">Interval</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/09/lc-1024-video-stitching/" data-tooltip="LC 1024 - Video Stitching">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/09/lc-1027-longest-arithmetic-sequence/" data-tooltip="LC 1027 - Longest Arithmetic Sequence">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 <a href="https://github.com/yyzhou95">BorisMirage</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/09/lc-1024-video-stitching/" data-tooltip="LC 1024 - Video Stitching">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://yyzhou95.github.io/2019/09/lc-1027-longest-arithmetic-sequence/" data-tooltip="LC 1027 - Longest Arithmetic Sequence">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://yyzhou95.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Steve Zhou</h4>
    
      <div id="about-card-bio">Bingo!</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Los Angeles
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://yyzhou95.github.io/img/bg.jpeg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://yyzhou95.github.io/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
  




    
  </body>
</html>

