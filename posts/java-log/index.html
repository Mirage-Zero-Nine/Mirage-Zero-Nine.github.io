<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Note of using Java log | Posts</title>
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200i,400,800" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/post-content.css">
    <link rel="stylesheet" href="../../static/bootstrap-4.3.1-dist/css/bootstrap.css">

    <!--    title icon        -->
    <link rel="shortcut icon" type="image/x-icon" href="../../static/img/Avatar-3.jpg"/>
</head>
<body>

<!--        nav bar     -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="https://yymzhou.github.io/">HOME</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="../">Posts <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../tags/">Tags <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="../../archived/">Archived <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Other Links
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="https://github.com/yyzhou95">Github</a>
                        <a class="dropdown-item" href="https://github.com/yyzhou95/yyzhou95.github.io">This page</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../../about/">About Me</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="post-content">
    <div class="container">
        <div class="jumbotron bg-transparent">
            <div class="container">
                <div class="post-heading">
                    <h1>Note of using Java log</h1>
                </div>

                <div class="container text-right post-date">April 27, 2019</div>
                <div class="container post-main">
                    <h3>Naming</h3>
                    <p>Name of log file should be standardized to avoid reading confusion. For instance, an appropriate
                        log name could be <span class="code">projectName_logName_logType.log</span>. A readable and
                        detailed log name
                        can save a lot of time.</p>
                    <h3>How long should log files last?</h3>
                    <p>It’s up to level. For instance, normal log file can keep for 15 days. Vital log can choose a
                        longer time.</p>

                    <h3>Log Level</h3>
                    <p>Here are levels of log:</p>
                    <ul class="ordered-list">
                        <li>DEBUG: save info for debug purpose.</li>
                        <li>INFO: save info when program is normally running</li>
                        <li>WARN: potential error messages, warning messages.</li>
                        <li>ERROR: error messages.</li>
                        <li>FATAL: fatal error that would cause abnormal exit.</li>
                    </ul>
                    <p>Most common used log levels are DEBUG, INFO, WARN, ERROR.</p>
                    <h3>Suggestions in using log</h3>
                    <p><strong>Avoid unnecessary log</strong></p>
                    <p>To avoid the unnecessary log, for instance, when log level is ERROR, then log level DEBUG,
                        INFO,WARN is not supposed to present. Also, those level are much more frequent during the
                        running process. If the unnecessary log can be filter out, then it would save time and improve
                        running efficiency.</p>
                    <p>One approach to filter unnecessary log is use <span class="code">if</span> statement. </p>
                    <pre class="java"><code>if(logger.isDebugEnabled){
    logger.debug("server info , id : " + id + ", user : " + user);
}
logger.debug("server info , id : {}, user : {}",id,user);</code></pre>
                    <p>Another approach is set <span class="code">additivity</span> to false.</p>
                    <p><span class="code">&lt;logger name=&quot;xx&quot; additivity=&quot;true&quot;&gt;</span></p>
                    <p><strong>Keep entire error info</strong>
                    <p>A simple “Something happen” kind of log is not helpful at all; the stack trace info is supposed
                        to show in error message. An example:</p>
                    <p><span class="code">logger.error(&quot;SOME ERROR: &quot;+e.getMessage(),e);</span></p>
                    <p><strong>Define logger as static</strong></p>
                    <p>This is to avoid Out Of Memory error.</p>
                    <p><span class="code">private static final Logger logger = LoggerFactory.getLogger(XX.class);</span>
                    </p></div>
            </div>
        </div>
    </div>
</section>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--        This order must be followed!!       -->
<script src="../../static/jquery/jquery-3.3.1.js"></script>
<script src="../../static/popper/popper.js"></script>
<script src="../../static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>
</body>
</html>