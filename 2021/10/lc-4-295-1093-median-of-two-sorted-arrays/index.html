<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.104.1 with theme Tranquilpeak 0.4.8-BETA">
<meta name="author" content="Notebook">
<meta name="keywords" content="">
<meta name="description" content="">


<meta property="og:description" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="LC 4 295 1093 - Median of Two Sorted Arrays">
<meta name="twitter:title" content="LC 4 295 1093 - Median of Two Sorted Arrays">
<meta property="og:url" content="https://mirage-zero-nine.github.io/2021/10/lc-4-295-1093-median-of-two-sorted-arrays/">
<meta property="twitter:url" content="https://mirage-zero-nine.github.io/2021/10/lc-4-295-1093-median-of-two-sorted-arrays/">
<meta property="og:site_name" content="Bingo!">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2021-10-17T00:00:00">
  
  
    <meta property="article:modified_time" content="2021-10-17T00:00:00">
  
  
  
    
      <meta property="article:section" content="Favorite">
    
      <meta property="article:section" content="Data Structure">
    
      <meta property="article:section" content="Heap">
    
      <meta property="article:section" content="Data Stream">
    
      <meta property="article:section" content="Array">
    
  
  
    
      <meta property="article:tag" content="Binary Search">
    
      <meta property="article:tag" content="Divide And Conquer">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://mirage-zero-nine.github.io/img/avatar.jpg">
  <meta property="twitter:image" content="https://mirage-zero-nine.github.io/img/avatar.jpg">


    <title>LC 4 295 1093 - Median of Two Sorted Arrays</title>

    <link rel="icon" href="https://mirage-zero-nine.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://mirage-zero-nine.github.io/2021/10/lc-4-295-1093-median-of-two-sorted-arrays/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://mirage-zero-nine.github.io/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://mirage-zero-nine.github.io/css/about.css">
      
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://mirage-zero-nine.github.io/">Bingo!</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://mirage-zero-nine.github.io/about">
    
    
    
      
        <img class="header-picture" src="https://mirage-zero-nine.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://mirage-zero-nine.github.io/about">
          <img class="sidebar-profile-picture" src="https://mirage-zero-nine.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Notebook</h4>
        
          <h5 class="sidebar-profile-bio">Bingo!</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://mirage-zero-nine.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://mirage-zero-nine.github.io/categories/notes/">
    
      <i class="sidebar-button-icon fa fa-lg fa-sticky-note"></i>
      
      <span class="sidebar-button-desc">Notebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://mirage-zero-nine.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://mirage-zero-nine.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://mirage-zero-nine.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://mirage-zero-nine.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      LC 4 295 1093 - Median of Two Sorted Arrays
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2021-10-17T00:00:00Z">
        
  October 17, 2021

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://mirage-zero-nine.github.io/categories/favorite">Favorite</a>, 
    
      <a class="category-link" href="https://mirage-zero-nine.github.io/categories/data-structure">Data Structure</a>, 
    
      <a class="category-link" href="https://mirage-zero-nine.github.io/categories/heap">Heap</a>, 
    
      <a class="category-link" href="https://mirage-zero-nine.github.io/categories/data-stream">Data Stream</a>, 
    
      <a class="category-link" href="https://mirage-zero-nine.github.io/categories/array">Array</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
  <ul>
    <li><a href="#4-median-of-two-sorted-arrays">4. Median of Two Sorted Arrays</a>
      <ul>
        <li><a href="#problem-description">Problem Description</a></li>
        <li><a href="#method--code">Method &amp; Code</a></li>
      </ul>
    </li>
    <li><a href="#295-find-median-from-data-stream">295. Find Median from Data Stream</a>
      <ul>
        <li><a href="#problem-description-1">Problem Description</a></li>
        <li><a href="#method--code-1">Method &amp; Code</a></li>
        <li><a href="#follow-up">Follow Up</a>
          <ul>
            <li><a href="#if-all-integer-numbers-from-the-stream-are-between-0-and-100-how-would-you-optimize-it">If all integer numbers from the stream are between 0 and 100, how would you optimize it?</a></li>
            <li><a href="#if-99-of-all-integer-numbers-from-the-stream-are-between-0-and-100-how-would-you-optimize-it">If 99% of all integer numbers from the stream are between 0 and 100, how would you optimize it?</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#1093-statistics-from-a-large-sample">1093. Statistics from a Large Sample</a>
      <ul>
        <li><a href="#problem-description-2">Problem Description</a></li>
        <li><a href="#method--code-2">Method &amp; Code</a></li>
      </ul>
    </li>
  </ul>
</nav>
<h1 id="4-median-of-two-sorted-arrays">4. Median of Two Sorted Arrays</h1>
<p>Link: <a href="https://leetcode.com/problems/median-of-two-sorted-arrays">Median of Two Sorted Arrays</a></p>
<h2 id="problem-description">Problem Description</h2>
<p>There are two sorted arrays <strong>nums1</strong> and <strong>nums2</strong> of size m and n respectively.</p>
<p>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p>
<p>You may assume <strong>nums1</strong> and <strong>nums2</strong> cannot be both empty.</p>
<p><strong>Example 1:</strong></p>
<pre tabindex="0"><code>nums1 = [1, 3]
nums2 = [2]

The median is 2.0
</code></pre><p><strong>Example 2:</strong></p>
<pre tabindex="0"><code>nums1 = [1, 2]
nums2 = [3, 4]

The median is (2 + 3)/2 = 2.5
</code></pre><h2 id="method--code">Method &amp; Code</h2>
<p>The basic idea is that, to find median, two arrays should be divided into 4 parts, <code>smaller1</code>, <code>smaller2</code>, <code>larger1</code>, <code>larger2</code>. The elements in <code>smaller1</code>, <code>smaller2</code> and <code>larger1</code>, <code>larger2</code> can only at most has a difference of 1. That is to say, <code>abs[(small1 + small2) - (larger1 + larger2)]&lt;=1</code>. If total length of two arrays are even, then it can be evenly divided into two parts. Otherwise, one part will have one more element.</p>
<p>The way to find the correct partition is using binary search in first array. Note that to avoid out of bound exception, the first array should be assured as shorter array. Each time, the first array will be divided into two parts. Since this array is sorted, the two parts will be assured to be one small part, and one large part. Then, the partition position of second array will be fixed as well: <code>middle2 = (nums2.length + nums1.length + 1) / 2 - middle1</code>. Index smaller than <code>middle2</code> will be divided into <code>small2</code> and larger elements will be divided into <code>large2</code>.</p>
<p>To ensure the division is correct, check if this <code>maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1</code>  is met. The division above ensure that two arrays is divided into two parts, and this condition assure all elements in small part will be less than or equal to larger part. If both conditions are matched, then median can be found.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Divide and conquer, compare the middle elements of two arrays, and recurse.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Each time, do binary search at first array (shorter array).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Array will be divided into 2 parts, since array is sorted, it will be one small part and one large part.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * To find median, the second array will be divided into two parts.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * The # of elements in both part is fixed, that sum of elements # in both parts difference should be less than 2.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * To ensure current partition has correctly divided all elements, maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * If the condition is not matched, keep binary search in first array until the condition is matched.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Time complexity: O(log(m+n)).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param nums1 first sorted array with length m
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param nums2 second sorted array with length n
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return median of the two sorted arrays
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">findMedianSortedArrays</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> nums1<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> nums2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>nums1<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> nums2<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> findMedianSortedArrays<span style="color:#f92672">(</span>nums2<span style="color:#f92672">,</span> nums1<span style="color:#f92672">);</span>        <span style="color:#75715e">// assure nums1 is shorter array to avoid corner case
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> left <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> right <span style="color:#f92672">=</span> nums1<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;=</span> right<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>     <span style="color:#75715e">// binary search only in first array, partition position in second array is fixed
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> middle1 <span style="color:#f92672">=</span> left <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>right <span style="color:#f92672">-</span> left<span style="color:#f92672">)</span> <span style="color:#f92672">/</span> 2<span style="color:#f92672">;</span>       <span style="color:#75715e">// binary search middle index
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> middle2 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>nums2<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> nums1<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> 1<span style="color:#f92672">)</span> <span style="color:#f92672">/</span> 2 <span style="color:#f92672">-</span> middle1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * maxLeft1 is the max value in left subarray of first array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * maxLeft2 is the max value in left subarray of second array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * minRight1 is the min value in right subarray of first array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * minRight2 is the min value in right subarray of second array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * Corner case: partition index reaches the end (or beginning) of array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If reaches the end of array, then set to MAX_VALUE.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If reaches the beginning of array, set to MIN_VALUE. */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> maxLeft1 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>middle1 <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">?</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MIN_VALUE</span> <span style="color:#f92672">:</span> nums1<span style="color:#f92672">[</span>middle1 <span style="color:#f92672">-</span> 1<span style="color:#f92672">];</span>     <span style="color:#75715e">// left of middle index
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> minRight1 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>middle1 <span style="color:#f92672">==</span> nums1<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span> <span style="color:#f92672">?</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MAX_VALUE</span> <span style="color:#f92672">:</span> nums1<span style="color:#f92672">[</span>middle1<span style="color:#f92672">];</span>     <span style="color:#75715e">// middle index
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> maxLeft2 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>middle2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">?</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MIN_VALUE</span> <span style="color:#f92672">:</span> nums2<span style="color:#f92672">[</span>middle2 <span style="color:#f92672">-</span> 1<span style="color:#f92672">];</span>     <span style="color:#75715e">// left of middle index
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> minRight2 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>middle2 <span style="color:#f92672">==</span> nums2<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span> <span style="color:#f92672">?</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MAX_VALUE</span> <span style="color:#f92672">:</span> nums2<span style="color:#f92672">[</span>middle2<span style="color:#f92672">];</span>     <span style="color:#75715e">// middle index
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * The condition for finding the median is that maxLeft1 &lt;= minRight2 &amp;&amp; maxLeft2 &lt;= minRight1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If so, the partition has already divide to parts that all left values are smaller than all right values.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If sum of two arrays are even, then return the average of median.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If sum of two arrays are odd, return the median.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If the condition is not met, then the partition position is incorrect,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * If max in left subarray 1 is larger than min in right subarray 2, move partition position to left.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * Since the partition has include elements that should belong to right sub array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         * Otherwise, move partition position to right. */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>maxLeft1 <span style="color:#f92672">&lt;=</span> minRight2 <span style="color:#f92672">&amp;&amp;</span> maxLeft2 <span style="color:#f92672">&lt;=</span> minRight1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">((</span>nums1<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> nums2<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span> <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">?</span> <span style="color:#f92672">((</span><span style="color:#66d9ef">double</span><span style="color:#f92672">)</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>maxLeft1<span style="color:#f92672">,</span> maxLeft2<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">min</span><span style="color:#f92672">(</span>minRight1<span style="color:#f92672">,</span> minRight2<span style="color:#f92672">))</span> <span style="color:#f92672">/</span> 2 <span style="color:#f92672">:</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>maxLeft1<span style="color:#f92672">,</span> maxLeft2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>maxLeft1 <span style="color:#f92672">&gt;</span> minRight2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            right <span style="color:#f92672">=</span> middle1 <span style="color:#f92672">-</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            left <span style="color:#f92672">=</span> middle1 <span style="color:#f92672">+</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="295-find-median-from-data-stream">295. Find Median from Data Stream</h1>
<p>Link: <a href="https://leetcode.com/problems/find-median-from-data-stream/">Find Median from Data Stream</a></p>
<h2 id="problem-description-1">Problem Description</h2>
<p>Median is the middle value in an ordered integer list. If the size of the list is even, there is no middle value. So the median is the mean of the two middle value.</p>
<p>For example,</p>
<pre tabindex="0"><code>[2,3,4]`, the median is `3
[2,3]`, the median is `(2 + 3) / 2 = 2.5
</code></pre><p>Design a data structure that supports the following two operations:</p>
<ul>
<li>void addNum(int num) - Add a integer number from the data stream to the data structure.</li>
<li>double findMedian() - Return the median of all elements so far.</li>
</ul>
<p><strong>Example:</strong></p>
<pre tabindex="0"><code>addNum(1)
addNum(2)
findMedian() -&gt; 1.5
addNum(3) 
findMedian() -&gt; 2
</code></pre><p><strong>Follow up:</strong></p>
<ol>
<li>If all integer numbers from the stream are between 0 and 100, how would you optimize it?</li>
<li>If 99% of all integer numbers from the stream are between 0 and 100, how would you optimize it?</li>
</ol>
<h2 id="method--code-1">Method &amp; Code</h2>
<p>Use two heaps. Max heap stores smaller part of stream, min heap stores larger part of stream.</p>
<p>Basic rule of adding numbers:</p>
<ol>
<li>Add value to a heap, then poll out top of this heap and add this value to the other heap. Size of small heap should be larger or equal to large heap.</li>
<li>If total size is odd, then small heap is larger. Add value to large heap to make two heaps size equal.</li>
<li>Otherwise, add value to small heap. If findMedian() is called, return top of the small heap.</li>
<li>To add value, if add to small heap, first add value to large heap, then move top of large heap to small heap.</li>
</ol>
<p>Find median:</p>
<ol>
<li>If stream size is even, then return the average of two middle value in stream.</li>
<li>If stream size is odd, return value in the middle of stream, which is the top of small heap.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MedianFinder</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Queue<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> small<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Queue<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> large<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">boolean</span> even <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>        <span style="color:#75715e">// initially, the size of 2 heaps are both 0, which is even
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Keeping two heaps. One min heap stores larger part of stream and one max heap stores smaller part.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * The size of two heaps should be same, or the large heap can have one more elements when total size is odd.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * There are two conditions:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 1. If two heaps have same size, then add one element to large heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * 2. If total size is odd, then add one element to small heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * The adding process is, for example, add one element to large heap:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Add given element to small heap first, then poll out the top of small heap, add the polled element to large heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MedianFinder</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        small <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PriorityQueue<span style="color:#f92672">&lt;&gt;((</span>o1<span style="color:#f92672">,</span> o2<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> o2 <span style="color:#f92672">-</span> o1<span style="color:#f92672">);</span>               <span style="color:#75715e">// max heap stores smaller part of stream
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        large <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PriorityQueue<span style="color:#f92672">&lt;&gt;();</span>                                  <span style="color:#75715e">// min heap stores larger part of stream
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Add number to heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Basic rule: add value to a heap, then poll out top of this heap and add this value to the other heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Size of small heap should be larger or equal to large heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * This rule make findMedian() easier.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * If total size is odd, then small heap is larger. Add value to large heap to make two heaps size equal.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Otherwise, add value to small heap. If findMedian() is called, return top of the small heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * To add value, if add to small heap, first add value to large heap, then move top of large heap to small heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param num given integer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addNum</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> num<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>even<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            small<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>num<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            large<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>small<span style="color:#f92672">.</span><span style="color:#a6e22e">poll</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            large<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>num<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            small<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>large<span style="color:#f92672">.</span><span style="color:#a6e22e">poll</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        even <span style="color:#f92672">=</span> <span style="color:#f92672">!</span>even<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * If stream size is even, then return the average of two middle value in stream.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * If stream size is odd, return value in the middle of stream, which is the top of small heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * The reason is that, when adding value to heap, always keep small heap size larger or equal to large heap.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return median value in stream
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">findMedian</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>even<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">(</span>small<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> large<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">())</span> <span style="color:#f92672">/</span> 2<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">double</span><span style="color:#f92672">)</span> large<span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">();</span>       <span style="color:#75715e">// if total length is odd, then return top of small heap
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="follow-up">Follow Up</h2>
<h3 id="if-all-integer-numbers-from-the-stream-are-between-0-and-100-how-would-you-optimize-it">If all integer numbers from the stream are between 0 and 100, how would you optimize it?</h3>
<p>See next problem.</p>
<h3 id="if-99-of-all-integer-numbers-from-the-stream-are-between-0-and-100-how-would-you-optimize-it">If 99% of all integer numbers from the stream are between 0 and 100, how would you optimize it?</h3>
<p>Since 99% of the elements fall between 0-100, skewness of the distribution will be mich high and we can apply the following Mathematical formula :</p>
<p><code>Median = ( Mode + 2 * Mean ) / 3</code></p>
<h1 id="1093-statistics-from-a-large-sample">1093. Statistics from a Large Sample</h1>
<p>Link: <a href="https://leetcode.com/problems/statistics-from-a-large-sample/">Statistics from a Large Sample</a></p>
<h2 id="problem-description-2">Problem Description</h2>
<p>You are given a large sample of integers in the range <code>[0, 255]</code>. Since the sample is so large, it is represented by an array <code>count</code> where <code>count[k]</code> is the <strong>number of times</strong> that <code>k</code> appears in the sample.</p>
<p>Calculate the following statistics:</p>
<ul>
<li>
<p><code>minimum</code>: The minimum element in the sample.</p>
</li>
<li>
<p><code>maximum</code>: The maximum element in the sample.</p>
</li>
<li>
<p><code>mean</code>: The average of the sample, calculated as the total sum of all elements divided by the total number of elements.</p>
</li>
<li>
<pre tabindex="0"><code>median
</code></pre><p>:</p>
<ul>
<li>If the sample has an odd number of elements, then the <code>median</code> is the middle element once the sample is sorted.</li>
<li>If the sample has an even number of elements, then the <code>median</code> is the average of the two middle elements once the sample is sorted.</li>
</ul>
</li>
<li>
<p><code>mode</code>: The number that appears the most in the sample. It is guaranteed to be <strong>unique</strong>.</p>
</li>
</ul>
<p>Return <em>the statistics of the sample as an array of floating-point numbers</em> <code>[minimum, maximum, mean, median, mode]</code><em>. Answers within</em> <code>10-5</code> <em>of the actual answer will be accepted.</em></p>
<p><strong>Example 1:</strong></p>
<pre tabindex="0"><code>Input: count = [0,1,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Output: [1.00000,3.00000,2.37500,2.50000,3.00000]
Explanation: The sample represented by count is [1,2,2,2,3,3,3,3].
The minimum and maximum are 1 and 3 respectively.
The mean is (1+2+2+2+3+3+3+3) / 8 = 19 / 8 = 2.375.
Since the size of the sample is even, the median is the average of the two middle elements 2 and 3, which is 2.5.
The mode is 3 as it appears the most in the sample.
</code></pre><p><strong>Example 2:</strong></p>
<pre tabindex="0"><code>Input: count = [0,4,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
Output: [1.00000,4.00000,2.18182,2.00000,1.00000]
Explanation: The sample represented by count is [1,1,1,1,2,2,2,3,3,4,4].
The minimum and maximum are 1 and 4 respectively.
The mean is (1+1+1+1+2+2+2+3+3+4+4) / 11 = 24 / 11 = 2.18181818... (for display purposes, the output shows the rounded number 2.18182).
Since the size of the sample is odd, the median is the middle element 2.
The mode is 1 as it appears the most in the sample.
</code></pre><p><strong>Constraints:</strong></p>
<ul>
<li><code>count.length == 256</code></li>
<li><code>0 &lt;= count[i] &lt;= 109</code></li>
<li><code>1 &lt;= sum(count) &lt;= 109</code></li>
<li>The mode of the sample that <code>count</code> represents is <strong>unique</strong>.</li>
</ul>
<h2 id="method--code-2">Method &amp; Code</h2>
<p>Two loops. First loop find the min, max, average and mode of the array. Second loop to find the median of the array by finding two candidates of median: <code>(total + 1) / 2</code>, <code>total / 2 + 1</code>.</p>
<p>There are two candidates of the median:</p>
<ul>
<li>m1: <code>(total + 1) / 2</code></li>
<li>m2: <code>total / 2 + 1</code></li>
</ul>
<p>If the number of elements in array is odd, then <code>m1 == m2</code>. Otherwise, <code>m1 + 1 == m2</code>. Since the array is &ldquo;sorted&rdquo;, simply traverse the array and add each element count and find <code>m1</code> and <code>m2</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Two loops.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * First loop find the min, max, average and mode of the array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Second loop to find the median of the array by finding two candidates of median: (total + 1) / 2, total / 2 + 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param count given array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return the statistics of the sample as an array of floating-point numbers [minimum, maximum, mean, median, mode]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span><span style="color:#f92672">[]</span> <span style="color:#a6e22e">sampleStats</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> count<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* Corner case */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>count <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> count<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">double</span><span style="color:#f92672">[</span>5<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> min <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">MAX_VALUE</span><span style="color:#f92672">,</span> max <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">MIN_VALUE</span><span style="color:#f92672">,</span> mode <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> mean<span style="color:#f92672">,</span> median<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> frequency <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> totalElements <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span> sum <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> count<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>count<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">!=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            min <span style="color:#f92672">=</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">min</span><span style="color:#f92672">(</span>i<span style="color:#f92672">,</span> min<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            max <span style="color:#f92672">=</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">max</span><span style="color:#f92672">(</span>i<span style="color:#f92672">,</span> max<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            sum <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">long</span><span style="color:#f92672">)</span> count<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">*</span> i<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>count<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">&gt;</span> frequency<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                frequency <span style="color:#f92672">=</span> count<span style="color:#f92672">[</span>i<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>                mode <span style="color:#f92672">=</span> i<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            totalElements <span style="color:#f92672">+=</span> count<span style="color:#f92672">[</span>i<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    mean <span style="color:#f92672">=</span> sum <span style="color:#f92672">/</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">double</span><span style="color:#f92672">)</span> totalElements<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    median <span style="color:#f92672">=</span> findMedian<span style="color:#f92672">(</span>count<span style="color:#f92672">,</span> totalElements<span style="color:#f92672">,</span> sum<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">double</span><span style="color:#f92672">[]{</span>min<span style="color:#f92672">,</span> max<span style="color:#f92672">,</span> mean<span style="color:#f92672">,</span> median<span style="color:#f92672">,</span> mode<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Find median from given array.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * The idea is to find the two possible candidate of median: (total + 1) / 2 and total / 2 + 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * If the number of elements in array is even, then (total + 1) / 2 &lt; total / 2 + 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * If the number of elements in array is odd, then (total + 1) / 2 == total / 2 + 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Traverse the array and find the value of two candidate of median.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param count         given array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param totalElements number of elements in given array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param sum           sum of all the elements in the array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @return median from the given array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">findMedian</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> count<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> totalElements<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> sum<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> middle1 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">((</span>totalElements <span style="color:#f92672">+</span> 1<span style="color:#f92672">)</span> <span style="color:#f92672">/</span> 2<span style="color:#f92672">),</span> middle2 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>totalElements <span style="color:#f92672">/</span> 2 <span style="color:#f92672">+</span> 1<span style="color:#f92672">),</span> currentCountSum <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> median <span style="color:#f92672">=</span> totalElements <span style="color:#f92672">==</span> 1 <span style="color:#f92672">?</span> sum <span style="color:#f92672">:</span> 0<span style="color:#f92672">;</span> <span style="color:#75715e">// if there is only one element, then the median is the only element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> totalElements <span style="color:#f92672">&gt;</span> 1 <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> count<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> next <span style="color:#f92672">=</span> currentCountSum <span style="color:#f92672">+</span> count<span style="color:#f92672">[</span>i<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>currentCountSum <span style="color:#f92672">&lt;</span> middle1 <span style="color:#f92672">&amp;&amp;</span> next <span style="color:#f92672">&gt;=</span> middle1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#75715e">// if middle is under current element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            median <span style="color:#f92672">+=</span> i <span style="color:#f92672">/</span> 2d<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>currentCountSum <span style="color:#f92672">&lt;</span> middle2 <span style="color:#f92672">&amp;&amp;</span> next <span style="color:#f92672">&gt;=</span> middle2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            median <span style="color:#f92672">+=</span> i <span style="color:#f92672">/</span> 2d<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        currentCountSum <span style="color:#f92672">+=</span> count<span style="color:#f92672">[</span>i<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> median<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://mirage-zero-nine.github.io/tags/binary-search/">Binary Search</a>

  <a class="tag tag--primary tag--small" href="https://mirage-zero-nine.github.io/tags/divide-and-conquer/">Divide And Conquer</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://mirage-zero-nine.github.io/2021/10/lc-704-374-278-1170-162-702-744-binary-search/" data-tooltip="LC 704 374 278 1170 162 702 744 - Binary Search">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://mirage-zero-nine.github.io/2021/10/lc-715-range-module/" data-tooltip="LC 715 - Range Module">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 <a href="https://miragespace.me/">BorisMirage</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://mirage-zero-nine.github.io/2021/10/lc-704-374-278-1170-162-702-744-binary-search/" data-tooltip="LC 704 374 278 1170 162 702 744 - Binary Search">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://mirage-zero-nine.github.io/2021/10/lc-715-range-module/" data-tooltip="LC 715 - Range Module">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="2">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://mirage-zero-nine.github.io/img/avatar.jpg" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Notebook</h4>
    
      <div id="about-card-bio">Bingo!</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Seattle
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://mirage-zero-nine.github.io/img/bg.jpeg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://mirage-zero-nine.github.io/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
  




    
  </body>
</html>

